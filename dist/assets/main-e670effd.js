var em=Object.defineProperty;var tm=(e,t,r)=>t in e?em(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var fa=(e,t,r)=>(tm(e,typeof t!="symbol"?t+"":t,r),r);function rm(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Je=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function sm(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Yu={exports:{}},qi={},Xu={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ws=Symbol.for("react.element"),im=Symbol.for("react.portal"),am=Symbol.for("react.fragment"),om=Symbol.for("react.strict_mode"),lm=Symbol.for("react.profiler"),cm=Symbol.for("react.provider"),um=Symbol.for("react.context"),dm=Symbol.for("react.forward_ref"),hm=Symbol.for("react.suspense"),fm=Symbol.for("react.memo"),mm=Symbol.for("react.lazy"),pc=Symbol.iterator;function pm(e){return e===null||typeof e!="object"?null:(e=pc&&e[pc]||e["@@iterator"],typeof e=="function"?e:null)}var Zu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ed=Object.assign,td={};function hn(e,t,r){this.props=e,this.context=t,this.refs=td,this.updater=r||Zu}hn.prototype.isReactComponent={};hn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function rd(){}rd.prototype=hn.prototype;function nl(e,t,r){this.props=e,this.context=t,this.refs=td,this.updater=r||Zu}var sl=nl.prototype=new rd;sl.constructor=nl;ed(sl,hn.prototype);sl.isPureReactComponent=!0;var gc=Array.isArray,nd=Object.prototype.hasOwnProperty,il={current:null},sd={key:!0,ref:!0,__self:!0,__source:!0};function id(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)nd.call(t,n)&&!sd.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:ws,type:e,key:i,ref:a,props:s,_owner:il.current}}function gm(e,t){return{$$typeof:ws,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function al(e){return typeof e=="object"&&e!==null&&e.$$typeof===ws}function ym(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var yc=/\/+/g;function ma(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ym(""+e.key):t.toString(36)}function ti(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ws:case im:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+ma(a,0):n,gc(s)?(r="",e!=null&&(r=e.replace(yc,"$&/")+"/"),ti(s,t,r,"",function(u){return u})):s!=null&&(al(s)&&(s=gm(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(yc,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",gc(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+ma(i,l);a+=ti(i,t,r,c,s)}else if(c=pm(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+ma(i,l++),a+=ti(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function As(e,t,r){if(e==null)return e;var n=[],s=0;return ti(e,n,"","",function(i){return t.call(r,i,s++)}),n}function vm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ee={current:null},ri={transition:null},xm={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:ri,ReactCurrentOwner:il};function ad(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:As,forEach:function(e,t,r){As(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return As(e,function(){t++}),t},toArray:function(e){return As(e,function(t){return t})||[]},only:function(e){if(!al(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=hn;B.Fragment=am;B.Profiler=lm;B.PureComponent=nl;B.StrictMode=om;B.Suspense=hm;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xm;B.act=ad;B.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ed({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=il.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)nd.call(t,c)&&!sd.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:ws,type:e.type,key:s,ref:i,props:n,_owner:a}};B.createContext=function(e){return e={$$typeof:um,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:cm,_context:e},e.Consumer=e};B.createElement=id;B.createFactory=function(e){var t=id.bind(null,e);return t.type=e,t};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:dm,render:e}};B.isValidElement=al;B.lazy=function(e){return{$$typeof:mm,_payload:{_status:-1,_result:e},_init:vm}};B.memo=function(e,t){return{$$typeof:fm,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=ri.transition;ri.transition={};try{e()}finally{ri.transition=t}};B.unstable_act=ad;B.useCallback=function(e,t){return Ee.current.useCallback(e,t)};B.useContext=function(e){return Ee.current.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e){return Ee.current.useDeferredValue(e)};B.useEffect=function(e,t){return Ee.current.useEffect(e,t)};B.useId=function(){return Ee.current.useId()};B.useImperativeHandle=function(e,t,r){return Ee.current.useImperativeHandle(e,t,r)};B.useInsertionEffect=function(e,t){return Ee.current.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return Ee.current.useLayoutEffect(e,t)};B.useMemo=function(e,t){return Ee.current.useMemo(e,t)};B.useReducer=function(e,t,r){return Ee.current.useReducer(e,t,r)};B.useRef=function(e){return Ee.current.useRef(e)};B.useState=function(e){return Ee.current.useState(e)};B.useSyncExternalStore=function(e,t,r){return Ee.current.useSyncExternalStore(e,t,r)};B.useTransition=function(){return Ee.current.useTransition()};B.version="18.3.1";Xu.exports=B;var b=Xu.exports;const Yn=nm(b),wm=rm({__proto__:null,default:Yn},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jm=b,_m=Symbol.for("react.element"),km=Symbol.for("react.fragment"),bm=Object.prototype.hasOwnProperty,Sm=jm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Nm={key:!0,ref:!0,__self:!0,__source:!0};function od(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)bm.call(t,n)&&!Nm.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:_m,type:e,key:i,ref:a,props:s,_owner:Sm.current}}qi.Fragment=km;qi.jsx=od;qi.jsxs=od;Yu.exports=qi;var o=Yu.exports,Ga={},ld={exports:{}},Be={},cd={exports:{}},ud={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,N){var A=_.length;_.push(N);e:for(;0<A;){var U=A-1>>>1,O=_[U];if(0<s(O,N))_[U]=N,_[A]=O,A=U;else break e}}function r(_){return _.length===0?null:_[0]}function n(_){if(_.length===0)return null;var N=_[0],A=_.pop();if(A!==N){_[0]=A;e:for(var U=0,O=_.length,V=O>>>1;U<V;){var K=2*(U+1)-1,Tr=_[K],We=K+1,At=_[We];if(0>s(Tr,A))We<O&&0>s(At,Tr)?(_[U]=At,_[We]=A,U=We):(_[U]=Tr,_[K]=A,U=K);else if(We<O&&0>s(At,A))_[U]=At,_[We]=A,U=We;else break e}}return N}function s(_,N){var A=_.sortIndex-N.sortIndex;return A!==0?A:_.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,y=!1,v=!1,w=!1,j=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(_){for(var N=r(u);N!==null;){if(N.callback===null)n(u);else if(N.startTime<=_)n(u),N.sortIndex=N.expirationTime,t(c,N);else break;N=r(u)}}function x(_){if(w=!1,m(_),!v)if(r(c)!==null)v=!0,H(S);else{var N=r(u);N!==null&&k(x,N.startTime-_)}}function S(_,N){v=!1,w&&(w=!1,p(P),P=-1),y=!0;var A=f;try{for(m(N),h=r(c);h!==null&&(!(h.expirationTime>N)||_&&!oe());){var U=h.callback;if(typeof U=="function"){h.callback=null,f=h.priorityLevel;var O=U(h.expirationTime<=N);N=e.unstable_now(),typeof O=="function"?h.callback=O:h===r(c)&&n(c),m(N)}else n(c);h=r(c)}if(h!==null)var V=!0;else{var K=r(u);K!==null&&k(x,K.startTime-N),V=!1}return V}finally{h=null,f=A,y=!1}}var E=!1,T=null,P=-1,W=5,L=-1;function oe(){return!(e.unstable_now()-L<W)}function me(){if(T!==null){var _=e.unstable_now();L=_;var N=!0;try{N=T(!0,_)}finally{N?_e():(E=!1,T=null)}}else E=!1}var _e;if(typeof g=="function")_e=function(){g(me)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,I=$e.port2;$e.port1.onmessage=me,_e=function(){I.postMessage(null)}}else _e=function(){j(me,0)};function H(_){T=_,E||(E=!0,_e())}function k(_,N){P=j(function(){_(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,H(S))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(_){switch(f){case 1:case 2:case 3:var N=3;break;default:N=f}var A=f;f=N;try{return _()}finally{f=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,N){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var A=f;f=_;try{return N()}finally{f=A}},e.unstable_scheduleCallback=function(_,N,A){var U=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?U+A:U):A=U,_){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=A+O,_={id:d++,callback:N,priorityLevel:_,startTime:A,expirationTime:O,sortIndex:-1},A>U?(_.sortIndex=A,t(u,_),r(c)===null&&_===r(u)&&(w?(p(P),P=-1):w=!0,k(x,A-U))):(_.sortIndex=O,t(c,_),v||y||(v=!0,H(S))),_},e.unstable_shouldYield=oe,e.unstable_wrapCallback=function(_){var N=f;return function(){var A=f;f=N;try{return _.apply(this,arguments)}finally{f=A}}}})(ud);cd.exports=ud;var Em=cd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm=b,qe=Em;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dd=new Set,Xn={};function Nr(e,t){rn(e,t),rn(e+"Capture",t)}function rn(e,t){for(Xn[e]=t,e=0;e<t.length;e++)dd.add(t[e])}var bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ka=Object.prototype.hasOwnProperty,Tm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vc={},xc={};function Pm(e){return Ka.call(xc,e)?!0:Ka.call(vc,e)?!1:Tm.test(e)?xc[e]=!0:(vc[e]=!0,!1)}function Am(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Om(e,t,r,n){if(t===null||typeof t>"u"||Am(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ce(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ye[e]=new Ce(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ye[t]=new Ce(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ye[e]=new Ce(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ye[e]=new Ce(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ye[e]=new Ce(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ye[e]=new Ce(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ye[e]=new Ce(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ye[e]=new Ce(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ye[e]=new Ce(e,5,!1,e.toLowerCase(),null,!1,!1)});var ol=/[\-:]([a-z])/g;function ll(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ol,ll);ye[t]=new Ce(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ol,ll);ye[t]=new Ce(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ol,ll);ye[t]=new Ce(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ye[e]=new Ce(e,1,!1,e.toLowerCase(),null,!1,!1)});ye.xlinkHref=new Ce("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ye[e]=new Ce(e,1,!1,e.toLowerCase(),null,!0,!0)});function cl(e,t,r,n){var s=ye.hasOwnProperty(t)?ye[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Om(t,r,s,n)&&(r=null),n||s===null?Pm(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ct=Cm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Os=Symbol.for("react.element"),Lr=Symbol.for("react.portal"),$r=Symbol.for("react.fragment"),ul=Symbol.for("react.strict_mode"),Ja=Symbol.for("react.profiler"),hd=Symbol.for("react.provider"),fd=Symbol.for("react.context"),dl=Symbol.for("react.forward_ref"),Ya=Symbol.for("react.suspense"),Xa=Symbol.for("react.suspense_list"),hl=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),md=Symbol.for("react.offscreen"),wc=Symbol.iterator;function jn(e){return e===null||typeof e!="object"?null:(e=wc&&e[wc]||e["@@iterator"],typeof e=="function"?e:null)}var ne=Object.assign,pa;function On(e){if(pa===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);pa=t&&t[1]||""}return`
`+pa+e}var ga=!1;function ya(e,t){if(!e||ga)return"";ga=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{ga=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?On(e):""}function zm(e){switch(e.tag){case 5:return On(e.type);case 16:return On("Lazy");case 13:return On("Suspense");case 19:return On("SuspenseList");case 0:case 2:case 15:return e=ya(e.type,!1),e;case 11:return e=ya(e.type.render,!1),e;case 1:return e=ya(e.type,!0),e;default:return""}}function Za(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $r:return"Fragment";case Lr:return"Portal";case Ja:return"Profiler";case ul:return"StrictMode";case Ya:return"Suspense";case Xa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fd:return(e.displayName||"Context")+".Consumer";case hd:return(e._context.displayName||"Context")+".Provider";case dl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hl:return t=e.displayName||null,t!==null?t:Za(e.type)||"Memo";case Rt:t=e._payload,e=e._init;try{return Za(e(t))}catch{}}return null}function Im(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Za(t);case 8:return t===ul?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Rm(e){var t=pd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zs(e){e._valueTracker||(e._valueTracker=Rm(e))}function gd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=pd(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function fi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function eo(e,t){var r=t.checked;return ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function jc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Zt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function yd(e,t){t=t.checked,t!=null&&cl(e,"checked",t,!1)}function to(e,t){yd(e,t);var r=Zt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ro(e,t.type,r):t.hasOwnProperty("defaultValue")&&ro(e,t.type,Zt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _c(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ro(e,t,r){(t!=="number"||fi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var zn=Array.isArray;function Gr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Zt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function no(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(C(92));if(zn(r)){if(1<r.length)throw Error(C(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Zt(r)}}function vd(e,t){var r=Zt(t.value),n=Zt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function bc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function xd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function so(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?xd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Is,wd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Is=Is||document.createElement("div"),Is.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Is.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var $n={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lm=["Webkit","ms","Moz","O"];Object.keys($n).forEach(function(e){Lm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$n[t]=$n[e]})});function jd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||$n.hasOwnProperty(e)&&$n[e]?(""+t).trim():t+"px"}function _d(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=jd(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var $m=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function io(e,t){if(t){if($m[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function ao(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oo=null;function fl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lo=null,Kr=null,Jr=null;function Sc(e){if(e=ks(e)){if(typeof lo!="function")throw Error(C(280));var t=e.stateNode;t&&(t=Vi(t),lo(e.stateNode,e.type,t))}}function kd(e){Kr?Jr?Jr.push(e):Jr=[e]:Kr=e}function bd(){if(Kr){var e=Kr,t=Jr;if(Jr=Kr=null,Sc(e),t)for(e=0;e<t.length;e++)Sc(t[e])}}function Sd(e,t){return e(t)}function Nd(){}var va=!1;function Ed(e,t,r){if(va)return e(t,r);va=!0;try{return Sd(e,t,r)}finally{va=!1,(Kr!==null||Jr!==null)&&(Nd(),bd())}}function es(e,t){var r=e.stateNode;if(r===null)return null;var n=Vi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(C(231,t,typeof r));return r}var co=!1;if(bt)try{var _n={};Object.defineProperty(_n,"passive",{get:function(){co=!0}}),window.addEventListener("test",_n,_n),window.removeEventListener("test",_n,_n)}catch{co=!1}function Um(e,t,r,n,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Un=!1,mi=null,pi=!1,uo=null,Mm={onError:function(e){Un=!0,mi=e}};function Dm(e,t,r,n,s,i,a,l,c){Un=!1,mi=null,Um.apply(Mm,arguments)}function Fm(e,t,r,n,s,i,a,l,c){if(Dm.apply(this,arguments),Un){if(Un){var u=mi;Un=!1,mi=null}else throw Error(C(198));pi||(pi=!0,uo=u)}}function Er(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Cd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Nc(e){if(Er(e)!==e)throw Error(C(188))}function qm(e){var t=e.alternate;if(!t){if(t=Er(e),t===null)throw Error(C(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Nc(s),e;if(i===n)return Nc(s),t;i=i.sibling}throw Error(C(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(C(189))}}if(r.alternate!==n)throw Error(C(190))}if(r.tag!==3)throw Error(C(188));return r.stateNode.current===r?e:t}function Td(e){return e=qm(e),e!==null?Pd(e):null}function Pd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Pd(e);if(t!==null)return t;e=e.sibling}return null}var Ad=qe.unstable_scheduleCallback,Ec=qe.unstable_cancelCallback,Bm=qe.unstable_shouldYield,Qm=qe.unstable_requestPaint,ie=qe.unstable_now,Wm=qe.unstable_getCurrentPriorityLevel,ml=qe.unstable_ImmediatePriority,Od=qe.unstable_UserBlockingPriority,gi=qe.unstable_NormalPriority,Hm=qe.unstable_LowPriority,zd=qe.unstable_IdlePriority,Bi=null,mt=null;function Vm(e){if(mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(Bi,e,void 0,(e.current.flags&128)===128)}catch{}}var it=Math.clz32?Math.clz32:Jm,Gm=Math.log,Km=Math.LN2;function Jm(e){return e>>>=0,e===0?32:31-(Gm(e)/Km|0)|0}var Rs=64,Ls=4194304;function In(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=In(l):(i&=a,i!==0&&(n=In(i)))}else a=r&~s,a!==0?n=In(a):i!==0&&(n=In(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-it(t),s=1<<r,n|=e[r],t&=~s;return n}function Ym(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xm(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-it(i),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=Ym(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function ho(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Id(){var e=Rs;return Rs<<=1,!(Rs&4194240)&&(Rs=64),e}function xa(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function js(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-it(t),e[t]=r}function Zm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-it(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function pl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-it(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var G=0;function Rd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ld,gl,$d,Ud,Md,fo=!1,$s=[],Qt=null,Wt=null,Ht=null,ts=new Map,rs=new Map,Ut=[],ep="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cc(e,t){switch(e){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":Wt=null;break;case"mouseover":case"mouseout":Ht=null;break;case"pointerover":case"pointerout":ts.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rs.delete(t.pointerId)}}function kn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ks(t),t!==null&&gl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function tp(e,t,r,n,s){switch(t){case"focusin":return Qt=kn(Qt,e,t,r,n,s),!0;case"dragenter":return Wt=kn(Wt,e,t,r,n,s),!0;case"mouseover":return Ht=kn(Ht,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return ts.set(i,kn(ts.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,rs.set(i,kn(rs.get(i)||null,e,t,r,n,s)),!0}return!1}function Dd(e){var t=pr(e.target);if(t!==null){var r=Er(t);if(r!==null){if(t=r.tag,t===13){if(t=Cd(r),t!==null){e.blockedOn=t,Md(e.priority,function(){$d(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ni(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=mo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);oo=n,r.target.dispatchEvent(n),oo=null}else return t=ks(r),t!==null&&gl(t),e.blockedOn=r,!1;t.shift()}return!0}function Tc(e,t,r){ni(e)&&r.delete(t)}function rp(){fo=!1,Qt!==null&&ni(Qt)&&(Qt=null),Wt!==null&&ni(Wt)&&(Wt=null),Ht!==null&&ni(Ht)&&(Ht=null),ts.forEach(Tc),rs.forEach(Tc)}function bn(e,t){e.blockedOn===t&&(e.blockedOn=null,fo||(fo=!0,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,rp)))}function ns(e){function t(s){return bn(s,e)}if(0<$s.length){bn($s[0],e);for(var r=1;r<$s.length;r++){var n=$s[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Qt!==null&&bn(Qt,e),Wt!==null&&bn(Wt,e),Ht!==null&&bn(Ht,e),ts.forEach(t),rs.forEach(t),r=0;r<Ut.length;r++)n=Ut[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ut.length&&(r=Ut[0],r.blockedOn===null);)Dd(r),r.blockedOn===null&&Ut.shift()}var Yr=Ct.ReactCurrentBatchConfig,vi=!0;function np(e,t,r,n){var s=G,i=Yr.transition;Yr.transition=null;try{G=1,yl(e,t,r,n)}finally{G=s,Yr.transition=i}}function sp(e,t,r,n){var s=G,i=Yr.transition;Yr.transition=null;try{G=4,yl(e,t,r,n)}finally{G=s,Yr.transition=i}}function yl(e,t,r,n){if(vi){var s=mo(e,t,r,n);if(s===null)Ta(e,t,n,xi,r),Cc(e,n);else if(tp(s,e,t,r,n))n.stopPropagation();else if(Cc(e,n),t&4&&-1<ep.indexOf(e)){for(;s!==null;){var i=ks(s);if(i!==null&&Ld(i),i=mo(e,t,r,n),i===null&&Ta(e,t,n,xi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Ta(e,t,n,null,r)}}var xi=null;function mo(e,t,r,n){if(xi=null,e=fl(n),e=pr(e),e!==null)if(t=Er(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Cd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xi=e,null}function Fd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wm()){case ml:return 1;case Od:return 4;case gi:case Hm:return 16;case zd:return 536870912;default:return 16}default:return 16}}var Ft=null,vl=null,si=null;function qd(){if(si)return si;var e,t=vl,r=t.length,n,s="value"in Ft?Ft.value:Ft.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return si=s.slice(e,1<n?1-n:void 0)}function ii(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Us(){return!0}function Pc(){return!1}function Qe(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Us:Pc,this.isPropagationStopped=Pc,this}return ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Us)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Us)},persist:function(){},isPersistent:Us}),t}var fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xl=Qe(fn),_s=ne({},fn,{view:0,detail:0}),ip=Qe(_s),wa,ja,Sn,Qi=ne({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Sn&&(Sn&&e.type==="mousemove"?(wa=e.screenX-Sn.screenX,ja=e.screenY-Sn.screenY):ja=wa=0,Sn=e),wa)},movementY:function(e){return"movementY"in e?e.movementY:ja}}),Ac=Qe(Qi),ap=ne({},Qi,{dataTransfer:0}),op=Qe(ap),lp=ne({},_s,{relatedTarget:0}),_a=Qe(lp),cp=ne({},fn,{animationName:0,elapsedTime:0,pseudoElement:0}),up=Qe(cp),dp=ne({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hp=Qe(dp),fp=ne({},fn,{data:0}),Oc=Qe(fp),mp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gp[e])?!!t[e]:!1}function wl(){return yp}var vp=ne({},_s,{key:function(e){if(e.key){var t=mp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ii(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wl,charCode:function(e){return e.type==="keypress"?ii(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ii(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xp=Qe(vp),wp=ne({},Qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zc=Qe(wp),jp=ne({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wl}),_p=Qe(jp),kp=ne({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0}),bp=Qe(kp),Sp=ne({},Qi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Np=Qe(Sp),Ep=[9,13,27,32],jl=bt&&"CompositionEvent"in window,Mn=null;bt&&"documentMode"in document&&(Mn=document.documentMode);var Cp=bt&&"TextEvent"in window&&!Mn,Bd=bt&&(!jl||Mn&&8<Mn&&11>=Mn),Ic=String.fromCharCode(32),Rc=!1;function Qd(e,t){switch(e){case"keyup":return Ep.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ur=!1;function Tp(e,t){switch(e){case"compositionend":return Wd(t);case"keypress":return t.which!==32?null:(Rc=!0,Ic);case"textInput":return e=t.data,e===Ic&&Rc?null:e;default:return null}}function Pp(e,t){if(Ur)return e==="compositionend"||!jl&&Qd(e,t)?(e=qd(),si=vl=Ft=null,Ur=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bd&&t.locale!=="ko"?null:t.data;default:return null}}var Ap={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ap[e.type]:t==="textarea"}function Hd(e,t,r,n){kd(n),t=wi(t,"onChange"),0<t.length&&(r=new xl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Dn=null,ss=null;function Op(e){nh(e,0)}function Wi(e){var t=Fr(e);if(gd(t))return e}function zp(e,t){if(e==="change")return t}var Vd=!1;if(bt){var ka;if(bt){var ba="oninput"in document;if(!ba){var $c=document.createElement("div");$c.setAttribute("oninput","return;"),ba=typeof $c.oninput=="function"}ka=ba}else ka=!1;Vd=ka&&(!document.documentMode||9<document.documentMode)}function Uc(){Dn&&(Dn.detachEvent("onpropertychange",Gd),ss=Dn=null)}function Gd(e){if(e.propertyName==="value"&&Wi(ss)){var t=[];Hd(t,ss,e,fl(e)),Ed(Op,t)}}function Ip(e,t,r){e==="focusin"?(Uc(),Dn=t,ss=r,Dn.attachEvent("onpropertychange",Gd)):e==="focusout"&&Uc()}function Rp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wi(ss)}function Lp(e,t){if(e==="click")return Wi(t)}function $p(e,t){if(e==="input"||e==="change")return Wi(t)}function Up(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ot=typeof Object.is=="function"?Object.is:Up;function is(e,t){if(ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ka.call(t,s)||!ot(e[s],t[s]))return!1}return!0}function Mc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dc(e,t){var r=Mc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Mc(r)}}function Kd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Kd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Jd(){for(var e=window,t=fi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=fi(e.document)}return t}function _l(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Mp(e){var t=Jd(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Kd(r.ownerDocument.documentElement,r)){if(n!==null&&_l(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Dc(r,i);var a=Dc(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Dp=bt&&"documentMode"in document&&11>=document.documentMode,Mr=null,po=null,Fn=null,go=!1;function Fc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;go||Mr==null||Mr!==fi(n)||(n=Mr,"selectionStart"in n&&_l(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Fn&&is(Fn,n)||(Fn=n,n=wi(po,"onSelect"),0<n.length&&(t=new xl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Mr)))}function Ms(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Dr={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionend:Ms("Transition","TransitionEnd")},Sa={},Yd={};bt&&(Yd=document.createElement("div").style,"AnimationEvent"in window||(delete Dr.animationend.animation,delete Dr.animationiteration.animation,delete Dr.animationstart.animation),"TransitionEvent"in window||delete Dr.transitionend.transition);function Hi(e){if(Sa[e])return Sa[e];if(!Dr[e])return e;var t=Dr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Yd)return Sa[e]=t[r];return e}var Xd=Hi("animationend"),Zd=Hi("animationiteration"),eh=Hi("animationstart"),th=Hi("transitionend"),rh=new Map,qc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rr(e,t){rh.set(e,t),Nr(t,[e])}for(var Na=0;Na<qc.length;Na++){var Ea=qc[Na],Fp=Ea.toLowerCase(),qp=Ea[0].toUpperCase()+Ea.slice(1);rr(Fp,"on"+qp)}rr(Xd,"onAnimationEnd");rr(Zd,"onAnimationIteration");rr(eh,"onAnimationStart");rr("dblclick","onDoubleClick");rr("focusin","onFocus");rr("focusout","onBlur");rr(th,"onTransitionEnd");rn("onMouseEnter",["mouseout","mouseover"]);rn("onMouseLeave",["mouseout","mouseover"]);rn("onPointerEnter",["pointerout","pointerover"]);rn("onPointerLeave",["pointerout","pointerover"]);Nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rn));function Bc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Fm(n,t,void 0,e),e.currentTarget=null}function nh(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Bc(s,l,u),i=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Bc(s,l,u),i=c}}}if(pi)throw e=uo,pi=!1,uo=null,e}function X(e,t){var r=t[jo];r===void 0&&(r=t[jo]=new Set);var n=e+"__bubble";r.has(n)||(sh(t,e,2,!1),r.add(n))}function Ca(e,t,r){var n=0;t&&(n|=4),sh(r,e,n,t)}var Ds="_reactListening"+Math.random().toString(36).slice(2);function as(e){if(!e[Ds]){e[Ds]=!0,dd.forEach(function(r){r!=="selectionchange"&&(Bp.has(r)||Ca(r,!1,e),Ca(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ds]||(t[Ds]=!0,Ca("selectionchange",!1,t))}}function sh(e,t,r,n){switch(Fd(t)){case 1:var s=np;break;case 4:s=sp;break;default:s=yl}r=s.bind(null,t,r,e),s=void 0,!co||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Ta(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=pr(l),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}l=l.parentNode}}n=n.return}Ed(function(){var u=i,d=fl(r),h=[];e:{var f=rh.get(e);if(f!==void 0){var y=xl,v=e;switch(e){case"keypress":if(ii(r)===0)break e;case"keydown":case"keyup":y=xp;break;case"focusin":v="focus",y=_a;break;case"focusout":v="blur",y=_a;break;case"beforeblur":case"afterblur":y=_a;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Ac;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=op;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=_p;break;case Xd:case Zd:case eh:y=up;break;case th:y=bp;break;case"scroll":y=ip;break;case"wheel":y=Np;break;case"copy":case"cut":case"paste":y=hp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=zc}var w=(t&4)!==0,j=!w&&e==="scroll",p=w?f!==null?f+"Capture":null:f;w=[];for(var g=u,m;g!==null;){m=g;var x=m.stateNode;if(m.tag===5&&x!==null&&(m=x,p!==null&&(x=es(g,p),x!=null&&w.push(os(g,x,m)))),j)break;g=g.return}0<w.length&&(f=new y(f,v,null,r,d),h.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",f&&r!==oo&&(v=r.relatedTarget||r.fromElement)&&(pr(v)||v[St]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(v=r.relatedTarget||r.toElement,y=u,v=v?pr(v):null,v!==null&&(j=Er(v),v!==j||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(w=Ac,x="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(w=zc,x="onPointerLeave",p="onPointerEnter",g="pointer"),j=y==null?f:Fr(y),m=v==null?f:Fr(v),f=new w(x,g+"leave",y,r,d),f.target=j,f.relatedTarget=m,x=null,pr(d)===u&&(w=new w(p,g+"enter",v,r,d),w.target=m,w.relatedTarget=j,x=w),j=x,y&&v)t:{for(w=y,p=v,g=0,m=w;m;m=Pr(m))g++;for(m=0,x=p;x;x=Pr(x))m++;for(;0<g-m;)w=Pr(w),g--;for(;0<m-g;)p=Pr(p),m--;for(;g--;){if(w===p||p!==null&&w===p.alternate)break t;w=Pr(w),p=Pr(p)}w=null}else w=null;y!==null&&Qc(h,f,y,w,!1),v!==null&&j!==null&&Qc(h,j,v,w,!0)}}e:{if(f=u?Fr(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var S=zp;else if(Lc(f))if(Vd)S=$p;else{S=Rp;var E=Ip}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=Lp);if(S&&(S=S(e,u))){Hd(h,S,r,d);break e}E&&E(e,f,u),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&ro(f,"number",f.value)}switch(E=u?Fr(u):window,e){case"focusin":(Lc(E)||E.contentEditable==="true")&&(Mr=E,po=u,Fn=null);break;case"focusout":Fn=po=Mr=null;break;case"mousedown":go=!0;break;case"contextmenu":case"mouseup":case"dragend":go=!1,Fc(h,r,d);break;case"selectionchange":if(Dp)break;case"keydown":case"keyup":Fc(h,r,d)}var T;if(jl)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Ur?Qd(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(Bd&&r.locale!=="ko"&&(Ur||P!=="onCompositionStart"?P==="onCompositionEnd"&&Ur&&(T=qd()):(Ft=d,vl="value"in Ft?Ft.value:Ft.textContent,Ur=!0)),E=wi(u,P),0<E.length&&(P=new Oc(P,e,null,r,d),h.push({event:P,listeners:E}),T?P.data=T:(T=Wd(r),T!==null&&(P.data=T)))),(T=Cp?Tp(e,r):Pp(e,r))&&(u=wi(u,"onBeforeInput"),0<u.length&&(d=new Oc("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=T))}nh(h,t)})}function os(e,t,r){return{instance:e,listener:t,currentTarget:r}}function wi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=es(e,r),i!=null&&n.unshift(os(e,i,s)),i=es(e,t),i!=null&&n.push(os(e,i,s))),e=e.return}return n}function Pr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qc(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=es(r,i),c!=null&&a.unshift(os(r,c,l))):s||(c=es(r,i),c!=null&&a.push(os(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var Qp=/\r\n?/g,Wp=/\u0000|\uFFFD/g;function Wc(e){return(typeof e=="string"?e:""+e).replace(Qp,`
`).replace(Wp,"")}function Fs(e,t,r){if(t=Wc(t),Wc(e)!==t&&r)throw Error(C(425))}function ji(){}var yo=null,vo=null;function xo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wo=typeof setTimeout=="function"?setTimeout:void 0,Hp=typeof clearTimeout=="function"?clearTimeout:void 0,Hc=typeof Promise=="function"?Promise:void 0,Vp=typeof queueMicrotask=="function"?queueMicrotask:typeof Hc<"u"?function(e){return Hc.resolve(null).then(e).catch(Gp)}:wo;function Gp(e){setTimeout(function(){throw e})}function Pa(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ns(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ns(t)}function Vt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Vc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var mn=Math.random().toString(36).slice(2),dt="__reactFiber$"+mn,ls="__reactProps$"+mn,St="__reactContainer$"+mn,jo="__reactEvents$"+mn,Kp="__reactListeners$"+mn,Jp="__reactHandles$"+mn;function pr(e){var t=e[dt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[St]||r[dt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Vc(e);e!==null;){if(r=e[dt])return r;e=Vc(e)}return t}e=r,r=e.parentNode}return null}function ks(e){return e=e[dt]||e[St],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function Vi(e){return e[ls]||null}var _o=[],qr=-1;function nr(e){return{current:e}}function Z(e){0>qr||(e.current=_o[qr],_o[qr]=null,qr--)}function Y(e,t){qr++,_o[qr]=e.current,e.current=t}var er={},je=nr(er),Ie=nr(!1),jr=er;function nn(e,t){var r=e.type.contextTypes;if(!r)return er;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Re(e){return e=e.childContextTypes,e!=null}function _i(){Z(Ie),Z(je)}function Gc(e,t,r){if(je.current!==er)throw Error(C(168));Y(je,t),Y(Ie,r)}function ih(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(C(108,Im(e)||"Unknown",s));return ne({},r,n)}function ki(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||er,jr=je.current,Y(je,e),Y(Ie,Ie.current),!0}function Kc(e,t,r){var n=e.stateNode;if(!n)throw Error(C(169));r?(e=ih(e,t,jr),n.__reactInternalMemoizedMergedChildContext=e,Z(Ie),Z(je),Y(je,e)):Z(Ie),Y(Ie,r)}var wt=null,Gi=!1,Aa=!1;function ah(e){wt===null?wt=[e]:wt.push(e)}function Yp(e){Gi=!0,ah(e)}function sr(){if(!Aa&&wt!==null){Aa=!0;var e=0,t=G;try{var r=wt;for(G=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}wt=null,Gi=!1}catch(s){throw wt!==null&&(wt=wt.slice(e+1)),Ad(ml,sr),s}finally{G=t,Aa=!1}}return null}var Br=[],Qr=0,bi=null,Si=0,He=[],Ve=0,_r=null,jt=1,_t="";function dr(e,t){Br[Qr++]=Si,Br[Qr++]=bi,bi=e,Si=t}function oh(e,t,r){He[Ve++]=jt,He[Ve++]=_t,He[Ve++]=_r,_r=e;var n=jt;e=_t;var s=32-it(n)-1;n&=~(1<<s),r+=1;var i=32-it(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,jt=1<<32-it(t)+s|r<<s|n,_t=i+e}else jt=1<<i|r<<s|n,_t=e}function kl(e){e.return!==null&&(dr(e,1),oh(e,1,0))}function bl(e){for(;e===bi;)bi=Br[--Qr],Br[Qr]=null,Si=Br[--Qr],Br[Qr]=null;for(;e===_r;)_r=He[--Ve],He[Ve]=null,_t=He[--Ve],He[Ve]=null,jt=He[--Ve],He[Ve]=null}var Fe=null,De=null,ee=!1,st=null;function lh(e,t){var r=Ge(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Jc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Fe=e,De=Vt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Fe=e,De=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=_r!==null?{id:jt,overflow:_t}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ge(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Fe=e,De=null,!0):!1;default:return!1}}function ko(e){return(e.mode&1)!==0&&(e.flags&128)===0}function bo(e){if(ee){var t=De;if(t){var r=t;if(!Jc(e,t)){if(ko(e))throw Error(C(418));t=Vt(r.nextSibling);var n=Fe;t&&Jc(e,t)?lh(n,r):(e.flags=e.flags&-4097|2,ee=!1,Fe=e)}}else{if(ko(e))throw Error(C(418));e.flags=e.flags&-4097|2,ee=!1,Fe=e}}}function Yc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fe=e}function qs(e){if(e!==Fe)return!1;if(!ee)return Yc(e),ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xo(e.type,e.memoizedProps)),t&&(t=De)){if(ko(e))throw ch(),Error(C(418));for(;t;)lh(e,t),t=Vt(t.nextSibling)}if(Yc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){De=Vt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}De=null}}else De=Fe?Vt(e.stateNode.nextSibling):null;return!0}function ch(){for(var e=De;e;)e=Vt(e.nextSibling)}function sn(){De=Fe=null,ee=!1}function Sl(e){st===null?st=[e]:st.push(e)}var Xp=Ct.ReactCurrentBatchConfig;function Nn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(C(309));var n=r.stateNode}if(!n)throw Error(C(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(C(284));if(!r._owner)throw Error(C(290,e))}return e}function Bs(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xc(e){var t=e._init;return t(e._payload)}function uh(e){function t(p,g){if(e){var m=p.deletions;m===null?(p.deletions=[g],p.flags|=16):m.push(g)}}function r(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function n(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function s(p,g){return p=Yt(p,g),p.index=0,p.sibling=null,p}function i(p,g,m){return p.index=m,e?(m=p.alternate,m!==null?(m=m.index,m<g?(p.flags|=2,g):m):(p.flags|=2,g)):(p.flags|=1048576,g)}function a(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,g,m,x){return g===null||g.tag!==6?(g=Ua(m,p.mode,x),g.return=p,g):(g=s(g,m),g.return=p,g)}function c(p,g,m,x){var S=m.type;return S===$r?d(p,g,m.props.children,x,m.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Rt&&Xc(S)===g.type)?(x=s(g,m.props),x.ref=Nn(p,g,m),x.return=p,x):(x=hi(m.type,m.key,m.props,null,p.mode,x),x.ref=Nn(p,g,m),x.return=p,x)}function u(p,g,m,x){return g===null||g.tag!==4||g.stateNode.containerInfo!==m.containerInfo||g.stateNode.implementation!==m.implementation?(g=Ma(m,p.mode,x),g.return=p,g):(g=s(g,m.children||[]),g.return=p,g)}function d(p,g,m,x,S){return g===null||g.tag!==7?(g=xr(m,p.mode,x,S),g.return=p,g):(g=s(g,m),g.return=p,g)}function h(p,g,m){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ua(""+g,p.mode,m),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Os:return m=hi(g.type,g.key,g.props,null,p.mode,m),m.ref=Nn(p,null,g),m.return=p,m;case Lr:return g=Ma(g,p.mode,m),g.return=p,g;case Rt:var x=g._init;return h(p,x(g._payload),m)}if(zn(g)||jn(g))return g=xr(g,p.mode,m,null),g.return=p,g;Bs(p,g)}return null}function f(p,g,m,x){var S=g!==null?g.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:l(p,g,""+m,x);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Os:return m.key===S?c(p,g,m,x):null;case Lr:return m.key===S?u(p,g,m,x):null;case Rt:return S=m._init,f(p,g,S(m._payload),x)}if(zn(m)||jn(m))return S!==null?null:d(p,g,m,x,null);Bs(p,m)}return null}function y(p,g,m,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return p=p.get(m)||null,l(g,p,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Os:return p=p.get(x.key===null?m:x.key)||null,c(g,p,x,S);case Lr:return p=p.get(x.key===null?m:x.key)||null,u(g,p,x,S);case Rt:var E=x._init;return y(p,g,m,E(x._payload),S)}if(zn(x)||jn(x))return p=p.get(m)||null,d(g,p,x,S,null);Bs(g,x)}return null}function v(p,g,m,x){for(var S=null,E=null,T=g,P=g=0,W=null;T!==null&&P<m.length;P++){T.index>P?(W=T,T=null):W=T.sibling;var L=f(p,T,m[P],x);if(L===null){T===null&&(T=W);break}e&&T&&L.alternate===null&&t(p,T),g=i(L,g,P),E===null?S=L:E.sibling=L,E=L,T=W}if(P===m.length)return r(p,T),ee&&dr(p,P),S;if(T===null){for(;P<m.length;P++)T=h(p,m[P],x),T!==null&&(g=i(T,g,P),E===null?S=T:E.sibling=T,E=T);return ee&&dr(p,P),S}for(T=n(p,T);P<m.length;P++)W=y(T,p,P,m[P],x),W!==null&&(e&&W.alternate!==null&&T.delete(W.key===null?P:W.key),g=i(W,g,P),E===null?S=W:E.sibling=W,E=W);return e&&T.forEach(function(oe){return t(p,oe)}),ee&&dr(p,P),S}function w(p,g,m,x){var S=jn(m);if(typeof S!="function")throw Error(C(150));if(m=S.call(m),m==null)throw Error(C(151));for(var E=S=null,T=g,P=g=0,W=null,L=m.next();T!==null&&!L.done;P++,L=m.next()){T.index>P?(W=T,T=null):W=T.sibling;var oe=f(p,T,L.value,x);if(oe===null){T===null&&(T=W);break}e&&T&&oe.alternate===null&&t(p,T),g=i(oe,g,P),E===null?S=oe:E.sibling=oe,E=oe,T=W}if(L.done)return r(p,T),ee&&dr(p,P),S;if(T===null){for(;!L.done;P++,L=m.next())L=h(p,L.value,x),L!==null&&(g=i(L,g,P),E===null?S=L:E.sibling=L,E=L);return ee&&dr(p,P),S}for(T=n(p,T);!L.done;P++,L=m.next())L=y(T,p,P,L.value,x),L!==null&&(e&&L.alternate!==null&&T.delete(L.key===null?P:L.key),g=i(L,g,P),E===null?S=L:E.sibling=L,E=L);return e&&T.forEach(function(me){return t(p,me)}),ee&&dr(p,P),S}function j(p,g,m,x){if(typeof m=="object"&&m!==null&&m.type===$r&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Os:e:{for(var S=m.key,E=g;E!==null;){if(E.key===S){if(S=m.type,S===$r){if(E.tag===7){r(p,E.sibling),g=s(E,m.props.children),g.return=p,p=g;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Rt&&Xc(S)===E.type){r(p,E.sibling),g=s(E,m.props),g.ref=Nn(p,E,m),g.return=p,p=g;break e}r(p,E);break}else t(p,E);E=E.sibling}m.type===$r?(g=xr(m.props.children,p.mode,x,m.key),g.return=p,p=g):(x=hi(m.type,m.key,m.props,null,p.mode,x),x.ref=Nn(p,g,m),x.return=p,p=x)}return a(p);case Lr:e:{for(E=m.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===m.containerInfo&&g.stateNode.implementation===m.implementation){r(p,g.sibling),g=s(g,m.children||[]),g.return=p,p=g;break e}else{r(p,g);break}else t(p,g);g=g.sibling}g=Ma(m,p.mode,x),g.return=p,p=g}return a(p);case Rt:return E=m._init,j(p,g,E(m._payload),x)}if(zn(m))return v(p,g,m,x);if(jn(m))return w(p,g,m,x);Bs(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,g!==null&&g.tag===6?(r(p,g.sibling),g=s(g,m),g.return=p,p=g):(r(p,g),g=Ua(m,p.mode,x),g.return=p,p=g),a(p)):r(p,g)}return j}var an=uh(!0),dh=uh(!1),Ni=nr(null),Ei=null,Wr=null,Nl=null;function El(){Nl=Wr=Ei=null}function Cl(e){var t=Ni.current;Z(Ni),e._currentValue=t}function So(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Xr(e,t){Ei=e,Nl=Wr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ze=!0),e.firstContext=null)}function Ye(e){var t=e._currentValue;if(Nl!==e)if(e={context:e,memoizedValue:t,next:null},Wr===null){if(Ei===null)throw Error(C(308));Wr=e,Ei.dependencies={lanes:0,firstContext:e}}else Wr=Wr.next=e;return t}var gr=null;function Tl(e){gr===null?gr=[e]:gr.push(e)}function hh(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Tl(t)):(r.next=s.next,s.next=r),t.interleaved=r,Nt(e,n)}function Nt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Lt=!1;function Pl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Q&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Nt(e,r)}return s=n.interleaved,s===null?(t.next=t,Tl(n)):(t.next=s.next,s.next=t),n.interleaved=t,Nt(e,r)}function ai(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,pl(e,r)}}function Zc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ci(e,t,r,n){var s=e.updateQueue;Lt=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,l=i;do{var f=l.lane,y=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,w=l;switch(f=t,y=r,w.tag){case 1:if(v=w.payload,typeof v=="function"){h=v.call(y,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,f=typeof v=="function"?v.call(y,h,f):v,f==null)break e;h=ne({},h,f);break e;case 2:Lt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else y={eventTime:y,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=y,c=h):d=d.next=y,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);br|=a,e.lanes=a,e.memoizedState=h}}function eu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(C(191,s));s.call(n)}}}var bs={},pt=nr(bs),cs=nr(bs),us=nr(bs);function yr(e){if(e===bs)throw Error(C(174));return e}function Al(e,t){switch(Y(us,t),Y(cs,e),Y(pt,bs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:so(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=so(t,e)}Z(pt),Y(pt,t)}function on(){Z(pt),Z(cs),Z(us)}function mh(e){yr(us.current);var t=yr(pt.current),r=so(t,e.type);t!==r&&(Y(cs,e),Y(pt,r))}function Ol(e){cs.current===e&&(Z(pt),Z(cs))}var te=nr(0);function Ti(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Oa=[];function zl(){for(var e=0;e<Oa.length;e++)Oa[e]._workInProgressVersionPrimary=null;Oa.length=0}var oi=Ct.ReactCurrentDispatcher,za=Ct.ReactCurrentBatchConfig,kr=0,re=null,ce=null,he=null,Pi=!1,qn=!1,ds=0,Zp=0;function ve(){throw Error(C(321))}function Il(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ot(e[r],t[r]))return!1;return!0}function Rl(e,t,r,n,s,i){if(kr=i,re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oi.current=e===null||e.memoizedState===null?ng:sg,e=r(n,s),qn){i=0;do{if(qn=!1,ds=0,25<=i)throw Error(C(301));i+=1,he=ce=null,t.updateQueue=null,oi.current=ig,e=r(n,s)}while(qn)}if(oi.current=Ai,t=ce!==null&&ce.next!==null,kr=0,he=ce=re=null,Pi=!1,t)throw Error(C(300));return e}function Ll(){var e=ds!==0;return ds=0,e}function ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?re.memoizedState=he=e:he=he.next=e,he}function Xe(){if(ce===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=ce.next;var t=he===null?re.memoizedState:he.next;if(t!==null)he=t,ce=e;else{if(e===null)throw Error(C(310));ce=e,e={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},he===null?re.memoizedState=he=e:he=he.next=e}return he}function hs(e,t){return typeof t=="function"?t(e):t}function Ia(e){var t=Xe(),r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=e;var n=ce,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((kr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=n):c=c.next=h,re.lanes|=d,br|=d}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=l,ot(n,t.memoizedState)||(ze=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,re.lanes|=i,br|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ra(e){var t=Xe(),r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);ot(i,t.memoizedState)||(ze=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function ph(){}function gh(e,t){var r=re,n=Xe(),s=t(),i=!ot(n.memoizedState,s);if(i&&(n.memoizedState=s,ze=!0),n=n.queue,$l(xh.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||he!==null&&he.memoizedState.tag&1){if(r.flags|=2048,fs(9,vh.bind(null,r,n,s,t),void 0,null),fe===null)throw Error(C(349));kr&30||yh(r,t,s)}return s}function yh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=re.updateQueue,t===null?(t={lastEffect:null,stores:null},re.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function vh(e,t,r,n){t.value=r,t.getSnapshot=n,wh(t)&&jh(e)}function xh(e,t,r){return r(function(){wh(t)&&jh(e)})}function wh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ot(e,r)}catch{return!0}}function jh(e){var t=Nt(e,1);t!==null&&at(t,e,1,-1)}function tu(e){var t=ut();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:e},t.queue=e,e=e.dispatch=rg.bind(null,re,e),[t.memoizedState,e]}function fs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=re.updateQueue,t===null?(t={lastEffect:null,stores:null},re.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function _h(){return Xe().memoizedState}function li(e,t,r,n){var s=ut();re.flags|=e,s.memoizedState=fs(1|t,r,void 0,n===void 0?null:n)}function Ki(e,t,r,n){var s=Xe();n=n===void 0?null:n;var i=void 0;if(ce!==null){var a=ce.memoizedState;if(i=a.destroy,n!==null&&Il(n,a.deps)){s.memoizedState=fs(t,r,i,n);return}}re.flags|=e,s.memoizedState=fs(1|t,r,i,n)}function ru(e,t){return li(8390656,8,e,t)}function $l(e,t){return Ki(2048,8,e,t)}function kh(e,t){return Ki(4,2,e,t)}function bh(e,t){return Ki(4,4,e,t)}function Sh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nh(e,t,r){return r=r!=null?r.concat([e]):null,Ki(4,4,Sh.bind(null,t,e),r)}function Ul(){}function Eh(e,t){var r=Xe();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Il(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ch(e,t){var r=Xe();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Il(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Th(e,t,r){return kr&21?(ot(r,t)||(r=Id(),re.lanes|=r,br|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ze=!0),e.memoizedState=r)}function eg(e,t){var r=G;G=r!==0&&4>r?r:4,e(!0);var n=za.transition;za.transition={};try{e(!1),t()}finally{G=r,za.transition=n}}function Ph(){return Xe().memoizedState}function tg(e,t,r){var n=Jt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ah(e))Oh(t,r);else if(r=hh(e,t,r,n),r!==null){var s=Ne();at(r,e,n,s),zh(r,t,n)}}function rg(e,t,r){var n=Jt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ah(e))Oh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,ot(l,a)){var c=t.interleaved;c===null?(s.next=s,Tl(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=hh(e,t,s,n),r!==null&&(s=Ne(),at(r,e,n,s),zh(r,t,n))}}function Ah(e){var t=e.alternate;return e===re||t!==null&&t===re}function Oh(e,t){qn=Pi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function zh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,pl(e,r)}}var Ai={readContext:Ye,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useInsertionEffect:ve,useLayoutEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useMutableSource:ve,useSyncExternalStore:ve,useId:ve,unstable_isNewReconciler:!1},ng={readContext:Ye,useCallback:function(e,t){return ut().memoizedState=[e,t===void 0?null:t],e},useContext:Ye,useEffect:ru,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,li(4194308,4,Sh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return li(4194308,4,e,t)},useInsertionEffect:function(e,t){return li(4,2,e,t)},useMemo:function(e,t){var r=ut();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ut();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=tg.bind(null,re,e),[n.memoizedState,e]},useRef:function(e){var t=ut();return e={current:e},t.memoizedState=e},useState:tu,useDebugValue:Ul,useDeferredValue:function(e){return ut().memoizedState=e},useTransition:function(){var e=tu(!1),t=e[0];return e=eg.bind(null,e[1]),ut().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=re,s=ut();if(ee){if(r===void 0)throw Error(C(407));r=r()}else{if(r=t(),fe===null)throw Error(C(349));kr&30||yh(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,ru(xh.bind(null,n,i,e),[e]),n.flags|=2048,fs(9,vh.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=ut(),t=fe.identifierPrefix;if(ee){var r=_t,n=jt;r=(n&~(1<<32-it(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ds++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Zp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sg={readContext:Ye,useCallback:Eh,useContext:Ye,useEffect:$l,useImperativeHandle:Nh,useInsertionEffect:kh,useLayoutEffect:bh,useMemo:Ch,useReducer:Ia,useRef:_h,useState:function(){return Ia(hs)},useDebugValue:Ul,useDeferredValue:function(e){var t=Xe();return Th(t,ce.memoizedState,e)},useTransition:function(){var e=Ia(hs)[0],t=Xe().memoizedState;return[e,t]},useMutableSource:ph,useSyncExternalStore:gh,useId:Ph,unstable_isNewReconciler:!1},ig={readContext:Ye,useCallback:Eh,useContext:Ye,useEffect:$l,useImperativeHandle:Nh,useInsertionEffect:kh,useLayoutEffect:bh,useMemo:Ch,useReducer:Ra,useRef:_h,useState:function(){return Ra(hs)},useDebugValue:Ul,useDeferredValue:function(e){var t=Xe();return ce===null?t.memoizedState=e:Th(t,ce.memoizedState,e)},useTransition:function(){var e=Ra(hs)[0],t=Xe().memoizedState;return[e,t]},useMutableSource:ph,useSyncExternalStore:gh,useId:Ph,unstable_isNewReconciler:!1};function tt(e,t){if(e&&e.defaultProps){t=ne({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function No(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ne({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ji={isMounted:function(e){return(e=e._reactInternals)?Er(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ne(),s=Jt(e),i=kt(n,s);i.payload=t,r!=null&&(i.callback=r),t=Gt(e,i,s),t!==null&&(at(t,e,s,n),ai(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ne(),s=Jt(e),i=kt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Gt(e,i,s),t!==null&&(at(t,e,s,n),ai(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ne(),n=Jt(e),s=kt(r,n);s.tag=2,t!=null&&(s.callback=t),t=Gt(e,s,n),t!==null&&(at(t,e,n,r),ai(t,e,n))}};function nu(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!is(r,n)||!is(s,i):!0}function Ih(e,t,r){var n=!1,s=er,i=t.contextType;return typeof i=="object"&&i!==null?i=Ye(i):(s=Re(t)?jr:je.current,n=t.contextTypes,i=(n=n!=null)?nn(e,s):er),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ji,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function su(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ji.enqueueReplaceState(t,t.state,null)}function Eo(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Pl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ye(i):(i=Re(t)?jr:je.current,s.context=nn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(No(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ji.enqueueReplaceState(s,s.state,null),Ci(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ln(e,t){try{var r="",n=t;do r+=zm(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function La(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Co(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ag=typeof WeakMap=="function"?WeakMap:Map;function Rh(e,t,r){r=kt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){zi||(zi=!0,Uo=n),Co(e,t)},r}function Lh(e,t,r){r=kt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Co(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Co(e,t),typeof n!="function"&&(Kt===null?Kt=new Set([this]):Kt.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function iu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new ag;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=wg.bind(null,e,t,r),t.then(e,e))}function au(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ou(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=kt(-1,1),t.tag=2,Gt(r,t,1))),r.lanes|=1),e)}var og=Ct.ReactCurrentOwner,ze=!1;function be(e,t,r,n){t.child=e===null?dh(t,null,r,n):an(t,e.child,r,n)}function lu(e,t,r,n,s){r=r.render;var i=t.ref;return Xr(t,s),n=Rl(e,t,r,n,i,s),r=Ll(),e!==null&&!ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Et(e,t,s)):(ee&&r&&kl(t),t.flags|=1,be(e,t,n,s),t.child)}function cu(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Hl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,$h(e,t,i,n,s)):(e=hi(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:is,r(a,n)&&e.ref===t.ref)return Et(e,t,s)}return t.flags|=1,e=Yt(i,n),e.ref=t.ref,e.return=t,t.child=e}function $h(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(is(i,n)&&e.ref===t.ref)if(ze=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(ze=!0);else return t.lanes=e.lanes,Et(e,t,s)}return To(e,t,r,n,s)}function Uh(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y(Vr,Me),Me|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Y(Vr,Me),Me|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Y(Vr,Me),Me|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Y(Vr,Me),Me|=n;return be(e,t,s,r),t.child}function Mh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function To(e,t,r,n,s){var i=Re(r)?jr:je.current;return i=nn(t,i),Xr(t,s),r=Rl(e,t,r,n,i,s),n=Ll(),e!==null&&!ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Et(e,t,s)):(ee&&n&&kl(t),t.flags|=1,be(e,t,r,s),t.child)}function uu(e,t,r,n,s){if(Re(r)){var i=!0;ki(t)}else i=!1;if(Xr(t,s),t.stateNode===null)ci(e,t),Ih(t,r,n),Eo(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ye(u):(u=Re(r)?jr:je.current,u=nn(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&su(t,a,n,u),Lt=!1;var f=t.memoizedState;a.state=f,Ci(t,n,a,s),c=t.memoizedState,l!==n||f!==c||Ie.current||Lt?(typeof d=="function"&&(No(t,r,d,n),c=t.memoizedState),(l=Lt||nu(t,r,l,n,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,fh(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:tt(t.type,l),a.props=u,h=t.pendingProps,f=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ye(c):(c=Re(r)?jr:je.current,c=nn(t,c));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||f!==c)&&su(t,a,n,c),Lt=!1,f=t.memoizedState,a.state=f,Ci(t,n,a,s);var v=t.memoizedState;l!==h||f!==v||Ie.current||Lt?(typeof y=="function"&&(No(t,r,y,n),v=t.memoizedState),(u=Lt||nu(t,r,u,n,f,v,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,v,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),a.props=n,a.state=v,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Po(e,t,r,n,i,s)}function Po(e,t,r,n,s,i){Mh(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&Kc(t,r,!1),Et(e,t,i);n=t.stateNode,og.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=an(t,e.child,null,i),t.child=an(t,null,l,i)):be(e,t,l,i),t.memoizedState=n.state,s&&Kc(t,r,!0),t.child}function Dh(e){var t=e.stateNode;t.pendingContext?Gc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gc(e,t.context,!1),Al(e,t.containerInfo)}function du(e,t,r,n,s){return sn(),Sl(s),t.flags|=256,be(e,t,r,n),t.child}var Ao={dehydrated:null,treeContext:null,retryLane:0};function Oo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fh(e,t,r){var n=t.pendingProps,s=te.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Y(te,s&1),e===null)return bo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Zi(a,n,0,null),e=xr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Oo(r),t.memoizedState=Ao,e):Ml(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return lg(e,t,a,n,l,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Yt(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Yt(l,i):(i=xr(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?Oo(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=Ao,n}return i=e.child,e=i.sibling,n=Yt(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ml(e,t){return t=Zi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Qs(e,t,r,n){return n!==null&&Sl(n),an(t,e.child,null,r),e=Ml(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lg(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=La(Error(C(422))),Qs(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Zi({mode:"visible",children:n.children},s,0,null),i=xr(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&an(t,e.child,null,a),t.child.memoizedState=Oo(a),t.memoizedState=Ao,i);if(!(t.mode&1))return Qs(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(C(419)),n=La(i,n,void 0),Qs(e,t,a,n)}if(l=(a&e.childLanes)!==0,ze||l){if(n=fe,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Nt(e,s),at(n,e,s,-1))}return Wl(),n=La(Error(C(421))),Qs(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=jg.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,De=Vt(s.nextSibling),Fe=t,ee=!0,st=null,e!==null&&(He[Ve++]=jt,He[Ve++]=_t,He[Ve++]=_r,jt=e.id,_t=e.overflow,_r=t),t=Ml(t,n.children),t.flags|=4096,t)}function hu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),So(e.return,t,r)}function $a(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function qh(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(be(e,t,n.children,r),n=te.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hu(e,r,t);else if(e.tag===19)hu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Y(te,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ti(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),$a(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ti(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}$a(t,!0,r,null,i);break;case"together":$a(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ci(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Et(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),br|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,r=Yt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Yt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function cg(e,t,r){switch(t.tag){case 3:Dh(t),sn();break;case 5:mh(t);break;case 1:Re(t.type)&&ki(t);break;case 4:Al(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Y(Ni,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Y(te,te.current&1),t.flags|=128,null):r&t.child.childLanes?Fh(e,t,r):(Y(te,te.current&1),e=Et(e,t,r),e!==null?e.sibling:null);Y(te,te.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return qh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Y(te,te.current),n)break;return null;case 22:case 23:return t.lanes=0,Uh(e,t,r)}return Et(e,t,r)}var Bh,zo,Qh,Wh;Bh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};zo=function(){};Qh=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,yr(pt.current);var i=null;switch(r){case"input":s=eo(e,s),n=eo(e,n),i=[];break;case"select":s=ne({},s,{value:void 0}),n=ne({},n,{value:void 0}),i=[];break;case"textarea":s=no(e,s),n=no(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ji)}io(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xn.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xn.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&X("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Wh=function(e,t,r,n){r!==n&&(t.flags|=4)};function En(e,t){if(!ee)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function ug(e,t,r){var n=t.pendingProps;switch(bl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(t),null;case 1:return Re(t.type)&&_i(),xe(t),null;case 3:return n=t.stateNode,on(),Z(Ie),Z(je),zl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(qs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,st!==null&&(Fo(st),st=null))),zo(e,t),xe(t),null;case 5:Ol(t);var s=yr(us.current);if(r=t.type,e!==null&&t.stateNode!=null)Qh(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(C(166));return xe(t),null}if(e=yr(pt.current),qs(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[dt]=t,n[ls]=i,e=(t.mode&1)!==0,r){case"dialog":X("cancel",n),X("close",n);break;case"iframe":case"object":case"embed":X("load",n);break;case"video":case"audio":for(s=0;s<Rn.length;s++)X(Rn[s],n);break;case"source":X("error",n);break;case"img":case"image":case"link":X("error",n),X("load",n);break;case"details":X("toggle",n);break;case"input":jc(n,i),X("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},X("invalid",n);break;case"textarea":kc(n,i),X("invalid",n)}io(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Fs(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Fs(n.textContent,l,e),s=["children",""+l]):Xn.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&X("scroll",n)}switch(r){case"input":zs(n),_c(n,i,!0);break;case"textarea":zs(n),bc(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ji)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=xd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[dt]=t,e[ls]=n,Bh(e,t,!1,!1),t.stateNode=e;e:{switch(a=ao(r,n),r){case"dialog":X("cancel",e),X("close",e),s=n;break;case"iframe":case"object":case"embed":X("load",e),s=n;break;case"video":case"audio":for(s=0;s<Rn.length;s++)X(Rn[s],e);s=n;break;case"source":X("error",e),s=n;break;case"img":case"image":case"link":X("error",e),X("load",e),s=n;break;case"details":X("toggle",e),s=n;break;case"input":jc(e,n),s=eo(e,n),X("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ne({},n,{value:void 0}),X("invalid",e);break;case"textarea":kc(e,n),s=no(e,n),X("invalid",e);break;default:s=n}io(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?_d(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&wd(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Zn(e,c):typeof c=="number"&&Zn(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Xn.hasOwnProperty(i)?c!=null&&i==="onScroll"&&X("scroll",e):c!=null&&cl(e,i,c,a))}switch(r){case"input":zs(e),_c(e,n,!1);break;case"textarea":zs(e),bc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Zt(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Gr(e,!!n.multiple,i,!1):n.defaultValue!=null&&Gr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ji)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xe(t),null;case 6:if(e&&t.stateNode!=null)Wh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(C(166));if(r=yr(us.current),yr(pt.current),qs(t)){if(n=t.stateNode,r=t.memoizedProps,n[dt]=t,(i=n.nodeValue!==r)&&(e=Fe,e!==null))switch(e.tag){case 3:Fs(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fs(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[dt]=t,t.stateNode=n}return xe(t),null;case 13:if(Z(te),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ee&&De!==null&&t.mode&1&&!(t.flags&128))ch(),sn(),t.flags|=98560,i=!1;else if(i=qs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(C(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[dt]=t}else sn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xe(t),i=!1}else st!==null&&(Fo(st),st=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||te.current&1?ue===0&&(ue=3):Wl())),t.updateQueue!==null&&(t.flags|=4),xe(t),null);case 4:return on(),zo(e,t),e===null&&as(t.stateNode.containerInfo),xe(t),null;case 10:return Cl(t.type._context),xe(t),null;case 17:return Re(t.type)&&_i(),xe(t),null;case 19:if(Z(te),i=t.memoizedState,i===null)return xe(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)En(i,!1);else{if(ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ti(e),a!==null){for(t.flags|=128,En(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Y(te,te.current&1|2),t.child}e=e.sibling}i.tail!==null&&ie()>cn&&(t.flags|=128,n=!0,En(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ti(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),En(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ee)return xe(t),null}else 2*ie()-i.renderingStartTime>cn&&r!==1073741824&&(t.flags|=128,n=!0,En(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ie(),t.sibling=null,r=te.current,Y(te,n?r&1|2:r&1),t):(xe(t),null);case 22:case 23:return Ql(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Me&1073741824&&(xe(t),t.subtreeFlags&6&&(t.flags|=8192)):xe(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function dg(e,t){switch(bl(t),t.tag){case 1:return Re(t.type)&&_i(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return on(),Z(Ie),Z(je),zl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ol(t),null;case 13:if(Z(te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));sn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Z(te),null;case 4:return on(),null;case 10:return Cl(t.type._context),null;case 22:case 23:return Ql(),null;case 24:return null;default:return null}}var Ws=!1,we=!1,hg=typeof WeakSet=="function"?WeakSet:Set,z=null;function Hr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){se(e,t,n)}else r.current=null}function Io(e,t,r){try{r()}catch(n){se(e,t,n)}}var fu=!1;function fg(e,t){if(yo=vi,e=Jd(),_l(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var y;h!==r||s!==0&&h.nodeType!==3||(l=a+s),h!==i||n!==0&&h.nodeType!==3||(c=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(y=h.firstChild)!==null;)f=h,h=y;for(;;){if(h===e)break t;if(f===r&&++u===s&&(l=a),f===i&&++d===n&&(c=a),(y=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(vo={focusedElem:e,selectionRange:r},vi=!1,z=t;z!==null;)if(t=z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,z=e;else for(;z!==null;){t=z;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,j=v.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?w:tt(t.type,w),j);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(x){se(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,z=e;break}z=t.return}return v=fu,fu=!1,v}function Bn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Io(t,r,i)}s=s.next}while(s!==n)}}function Yi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ro(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Hh(e){var t=e.alternate;t!==null&&(e.alternate=null,Hh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dt],delete t[ls],delete t[jo],delete t[Kp],delete t[Jp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Vh(e){return e.tag===5||e.tag===3||e.tag===4}function mu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lo(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ji));else if(n!==4&&(e=e.child,e!==null))for(Lo(e,t,r),e=e.sibling;e!==null;)Lo(e,t,r),e=e.sibling}function $o(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for($o(e,t,r),e=e.sibling;e!==null;)$o(e,t,r),e=e.sibling}var pe=null,rt=!1;function Ot(e,t,r){for(r=r.child;r!==null;)Gh(e,t,r),r=r.sibling}function Gh(e,t,r){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(Bi,r)}catch{}switch(r.tag){case 5:we||Hr(r,t);case 6:var n=pe,s=rt;pe=null,Ot(e,t,r),pe=n,rt=s,pe!==null&&(rt?(e=pe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):pe.removeChild(r.stateNode));break;case 18:pe!==null&&(rt?(e=pe,r=r.stateNode,e.nodeType===8?Pa(e.parentNode,r):e.nodeType===1&&Pa(e,r),ns(e)):Pa(pe,r.stateNode));break;case 4:n=pe,s=rt,pe=r.stateNode.containerInfo,rt=!0,Ot(e,t,r),pe=n,rt=s;break;case 0:case 11:case 14:case 15:if(!we&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Io(r,t,a),s=s.next}while(s!==n)}Ot(e,t,r);break;case 1:if(!we&&(Hr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){se(r,t,l)}Ot(e,t,r);break;case 21:Ot(e,t,r);break;case 22:r.mode&1?(we=(n=we)||r.memoizedState!==null,Ot(e,t,r),we=n):Ot(e,t,r);break;default:Ot(e,t,r)}}function pu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new hg),t.forEach(function(n){var s=_g.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ze(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:pe=l.stateNode,rt=!1;break e;case 3:pe=l.stateNode.containerInfo,rt=!0;break e;case 4:pe=l.stateNode.containerInfo,rt=!0;break e}l=l.return}if(pe===null)throw Error(C(160));Gh(i,a,s),pe=null,rt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){se(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Kh(t,e),t=t.sibling}function Kh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ze(t,e),ct(e),n&4){try{Bn(3,e,e.return),Yi(3,e)}catch(w){se(e,e.return,w)}try{Bn(5,e,e.return)}catch(w){se(e,e.return,w)}}break;case 1:Ze(t,e),ct(e),n&512&&r!==null&&Hr(r,r.return);break;case 5:if(Ze(t,e),ct(e),n&512&&r!==null&&Hr(r,r.return),e.flags&32){var s=e.stateNode;try{Zn(s,"")}catch(w){se(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&yd(s,i),ao(l,a);var u=ao(l,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?_d(s,h):d==="dangerouslySetInnerHTML"?wd(s,h):d==="children"?Zn(s,h):cl(s,d,h,u)}switch(l){case"input":to(s,i);break;case"textarea":vd(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Gr(s,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?Gr(s,!!i.multiple,i.defaultValue,!0):Gr(s,!!i.multiple,i.multiple?[]:"",!1))}s[ls]=i}catch(w){se(e,e.return,w)}}break;case 6:if(Ze(t,e),ct(e),n&4){if(e.stateNode===null)throw Error(C(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){se(e,e.return,w)}}break;case 3:if(Ze(t,e),ct(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ns(t.containerInfo)}catch(w){se(e,e.return,w)}break;case 4:Ze(t,e),ct(e);break;case 13:Ze(t,e),ct(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ql=ie())),n&4&&pu(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(we=(u=we)||d,Ze(t,e),we=u):Ze(t,e),ct(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(z=e,d=e.child;d!==null;){for(h=z=d;z!==null;){switch(f=z,y=f.child,f.tag){case 0:case 11:case 14:case 15:Bn(4,f,f.return);break;case 1:Hr(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){se(n,r,w)}}break;case 5:Hr(f,f.return);break;case 22:if(f.memoizedState!==null){yu(h);continue}}y!==null?(y.return=f,z=y):yu(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=jd("display",a))}catch(w){se(e,e.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){se(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ze(t,e),ct(e),n&4&&pu(e);break;case 21:break;default:Ze(t,e),ct(e)}}function ct(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Vh(r)){var n=r;break e}r=r.return}throw Error(C(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Zn(s,""),n.flags&=-33);var i=mu(e);$o(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=mu(e);Lo(e,l,a);break;default:throw Error(C(161))}}catch(c){se(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mg(e,t,r){z=e,Jh(e)}function Jh(e,t,r){for(var n=(e.mode&1)!==0;z!==null;){var s=z,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Ws;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||we;l=Ws;var u=we;if(Ws=a,(we=c)&&!u)for(z=s;z!==null;)a=z,c=a.child,a.tag===22&&a.memoizedState!==null?vu(s):c!==null?(c.return=a,z=c):vu(s);for(;i!==null;)z=i,Jh(i),i=i.sibling;z=s,Ws=l,we=u}gu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,z=i):gu(e)}}function gu(e){for(;z!==null;){var t=z;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:we||Yi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!we)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:tt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&eu(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}eu(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ns(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}we||t.flags&512&&Ro(t)}catch(f){se(t,t.return,f)}}if(t===e){z=null;break}if(r=t.sibling,r!==null){r.return=t.return,z=r;break}z=t.return}}function yu(e){for(;z!==null;){var t=z;if(t===e){z=null;break}var r=t.sibling;if(r!==null){r.return=t.return,z=r;break}z=t.return}}function vu(e){for(;z!==null;){var t=z;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Yi(4,t)}catch(c){se(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){se(t,s,c)}}var i=t.return;try{Ro(t)}catch(c){se(t,i,c)}break;case 5:var a=t.return;try{Ro(t)}catch(c){se(t,a,c)}}}catch(c){se(t,t.return,c)}if(t===e){z=null;break}var l=t.sibling;if(l!==null){l.return=t.return,z=l;break}z=t.return}}var pg=Math.ceil,Oi=Ct.ReactCurrentDispatcher,Dl=Ct.ReactCurrentOwner,Ke=Ct.ReactCurrentBatchConfig,Q=0,fe=null,le=null,ge=0,Me=0,Vr=nr(0),ue=0,ms=null,br=0,Xi=0,Fl=0,Qn=null,Ae=null,ql=0,cn=1/0,vt=null,zi=!1,Uo=null,Kt=null,Hs=!1,qt=null,Ii=0,Wn=0,Mo=null,ui=-1,di=0;function Ne(){return Q&6?ie():ui!==-1?ui:ui=ie()}function Jt(e){return e.mode&1?Q&2&&ge!==0?ge&-ge:Xp.transition!==null?(di===0&&(di=Id()),di):(e=G,e!==0||(e=window.event,e=e===void 0?16:Fd(e.type)),e):1}function at(e,t,r,n){if(50<Wn)throw Wn=0,Mo=null,Error(C(185));js(e,r,n),(!(Q&2)||e!==fe)&&(e===fe&&(!(Q&2)&&(Xi|=r),ue===4&&Mt(e,ge)),Le(e,n),r===1&&Q===0&&!(t.mode&1)&&(cn=ie()+500,Gi&&sr()))}function Le(e,t){var r=e.callbackNode;Xm(e,t);var n=yi(e,e===fe?ge:0);if(n===0)r!==null&&Ec(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Ec(r),t===1)e.tag===0?Yp(xu.bind(null,e)):ah(xu.bind(null,e)),Vp(function(){!(Q&6)&&sr()}),r=null;else{switch(Rd(n)){case 1:r=ml;break;case 4:r=Od;break;case 16:r=gi;break;case 536870912:r=zd;break;default:r=gi}r=sf(r,Yh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Yh(e,t){if(ui=-1,di=0,Q&6)throw Error(C(327));var r=e.callbackNode;if(Zr()&&e.callbackNode!==r)return null;var n=yi(e,e===fe?ge:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ri(e,n);else{t=n;var s=Q;Q|=2;var i=Zh();(fe!==e||ge!==t)&&(vt=null,cn=ie()+500,vr(e,t));do try{vg();break}catch(l){Xh(e,l)}while(1);El(),Oi.current=i,Q=s,le!==null?t=0:(fe=null,ge=0,t=ue)}if(t!==0){if(t===2&&(s=ho(e),s!==0&&(n=s,t=Do(e,s))),t===1)throw r=ms,vr(e,0),Mt(e,n),Le(e,ie()),r;if(t===6)Mt(e,n);else{if(s=e.current.alternate,!(n&30)&&!gg(s)&&(t=Ri(e,n),t===2&&(i=ho(e),i!==0&&(n=i,t=Do(e,i))),t===1))throw r=ms,vr(e,0),Mt(e,n),Le(e,ie()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(C(345));case 2:hr(e,Ae,vt);break;case 3:if(Mt(e,n),(n&130023424)===n&&(t=ql+500-ie(),10<t)){if(yi(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ne(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=wo(hr.bind(null,e,Ae,vt),t);break}hr(e,Ae,vt);break;case 4:if(Mt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-it(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=ie()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*pg(n/1960))-n,10<n){e.timeoutHandle=wo(hr.bind(null,e,Ae,vt),n);break}hr(e,Ae,vt);break;case 5:hr(e,Ae,vt);break;default:throw Error(C(329))}}}return Le(e,ie()),e.callbackNode===r?Yh.bind(null,e):null}function Do(e,t){var r=Qn;return e.current.memoizedState.isDehydrated&&(vr(e,t).flags|=256),e=Ri(e,t),e!==2&&(t=Ae,Ae=r,t!==null&&Fo(t)),e}function Fo(e){Ae===null?Ae=e:Ae.push.apply(Ae,e)}function gg(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ot(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mt(e,t){for(t&=~Fl,t&=~Xi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-it(t),n=1<<r;e[r]=-1,t&=~n}}function xu(e){if(Q&6)throw Error(C(327));Zr();var t=yi(e,0);if(!(t&1))return Le(e,ie()),null;var r=Ri(e,t);if(e.tag!==0&&r===2){var n=ho(e);n!==0&&(t=n,r=Do(e,n))}if(r===1)throw r=ms,vr(e,0),Mt(e,t),Le(e,ie()),r;if(r===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hr(e,Ae,vt),Le(e,ie()),null}function Bl(e,t){var r=Q;Q|=1;try{return e(t)}finally{Q=r,Q===0&&(cn=ie()+500,Gi&&sr())}}function Sr(e){qt!==null&&qt.tag===0&&!(Q&6)&&Zr();var t=Q;Q|=1;var r=Ke.transition,n=G;try{if(Ke.transition=null,G=1,e)return e()}finally{G=n,Ke.transition=r,Q=t,!(Q&6)&&sr()}}function Ql(){Me=Vr.current,Z(Vr)}function vr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Hp(r)),le!==null)for(r=le.return;r!==null;){var n=r;switch(bl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&_i();break;case 3:on(),Z(Ie),Z(je),zl();break;case 5:Ol(n);break;case 4:on();break;case 13:Z(te);break;case 19:Z(te);break;case 10:Cl(n.type._context);break;case 22:case 23:Ql()}r=r.return}if(fe=e,le=e=Yt(e.current,null),ge=Me=t,ue=0,ms=null,Fl=Xi=br=0,Ae=Qn=null,gr!==null){for(t=0;t<gr.length;t++)if(r=gr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}gr=null}return e}function Xh(e,t){do{var r=le;try{if(El(),oi.current=Ai,Pi){for(var n=re.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Pi=!1}if(kr=0,he=ce=re=null,qn=!1,ds=0,Dl.current=null,r===null||r.return===null){ue=1,ms=t,le=null;break}e:{var i=e,a=r.return,l=r,c=t;if(t=ge,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=au(a);if(y!==null){y.flags&=-257,ou(y,a,l,i,t),y.mode&1&&iu(i,u,t),t=y,c=u;var v=t.updateQueue;if(v===null){var w=new Set;w.add(c),t.updateQueue=w}else v.add(c);break e}else{if(!(t&1)){iu(i,u,t),Wl();break e}c=Error(C(426))}}else if(ee&&l.mode&1){var j=au(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),ou(j,a,l,i,t),Sl(ln(c,l));break e}}i=c=ln(c,l),ue!==4&&(ue=2),Qn===null?Qn=[i]:Qn.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Rh(i,c,t);Zc(i,p);break e;case 1:l=c;var g=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Kt===null||!Kt.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=Lh(i,l,t);Zc(i,x);break e}}i=i.return}while(i!==null)}tf(r)}catch(S){t=S,le===r&&r!==null&&(le=r=r.return);continue}break}while(1)}function Zh(){var e=Oi.current;return Oi.current=Ai,e===null?Ai:e}function Wl(){(ue===0||ue===3||ue===2)&&(ue=4),fe===null||!(br&268435455)&&!(Xi&268435455)||Mt(fe,ge)}function Ri(e,t){var r=Q;Q|=2;var n=Zh();(fe!==e||ge!==t)&&(vt=null,vr(e,t));do try{yg();break}catch(s){Xh(e,s)}while(1);if(El(),Q=r,Oi.current=n,le!==null)throw Error(C(261));return fe=null,ge=0,ue}function yg(){for(;le!==null;)ef(le)}function vg(){for(;le!==null&&!Bm();)ef(le)}function ef(e){var t=nf(e.alternate,e,Me);e.memoizedProps=e.pendingProps,t===null?tf(e):le=t,Dl.current=null}function tf(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=dg(r,t),r!==null){r.flags&=32767,le=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ue=6,le=null;return}}else if(r=ug(r,t,Me),r!==null){le=r;return}if(t=t.sibling,t!==null){le=t;return}le=t=e}while(t!==null);ue===0&&(ue=5)}function hr(e,t,r){var n=G,s=Ke.transition;try{Ke.transition=null,G=1,xg(e,t,r,n)}finally{Ke.transition=s,G=n}return null}function xg(e,t,r,n){do Zr();while(qt!==null);if(Q&6)throw Error(C(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Zm(e,i),e===fe&&(le=fe=null,ge=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Hs||(Hs=!0,sf(gi,function(){return Zr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ke.transition,Ke.transition=null;var a=G;G=1;var l=Q;Q|=4,Dl.current=null,fg(e,r),Kh(r,e),Mp(vo),vi=!!yo,vo=yo=null,e.current=r,mg(r),Qm(),Q=l,G=a,Ke.transition=i}else e.current=r;if(Hs&&(Hs=!1,qt=e,Ii=s),i=e.pendingLanes,i===0&&(Kt=null),Vm(r.stateNode),Le(e,ie()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(zi)throw zi=!1,e=Uo,Uo=null,e;return Ii&1&&e.tag!==0&&Zr(),i=e.pendingLanes,i&1?e===Mo?Wn++:(Wn=0,Mo=e):Wn=0,sr(),null}function Zr(){if(qt!==null){var e=Rd(Ii),t=Ke.transition,r=G;try{if(Ke.transition=null,G=16>e?16:e,qt===null)var n=!1;else{if(e=qt,qt=null,Ii=0,Q&6)throw Error(C(331));var s=Q;for(Q|=4,z=e.current;z!==null;){var i=z,a=i.child;if(z.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(z=u;z!==null;){var d=z;switch(d.tag){case 0:case 11:case 15:Bn(8,d,i)}var h=d.child;if(h!==null)h.return=d,z=h;else for(;z!==null;){d=z;var f=d.sibling,y=d.return;if(Hh(d),d===u){z=null;break}if(f!==null){f.return=y,z=f;break}z=y}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var j=w.sibling;w.sibling=null,w=j}while(w!==null)}}z=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,z=a;else e:for(;z!==null;){if(i=z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Bn(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,z=p;break e}z=i.return}}var g=e.current;for(z=g;z!==null;){a=z;var m=a.child;if(a.subtreeFlags&2064&&m!==null)m.return=a,z=m;else e:for(a=g;z!==null;){if(l=z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Yi(9,l)}}catch(S){se(l,l.return,S)}if(l===a){z=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,z=x;break e}z=l.return}}if(Q=s,sr(),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(Bi,e)}catch{}n=!0}return n}finally{G=r,Ke.transition=t}}return!1}function wu(e,t,r){t=ln(r,t),t=Rh(e,t,1),e=Gt(e,t,1),t=Ne(),e!==null&&(js(e,1,t),Le(e,t))}function se(e,t,r){if(e.tag===3)wu(e,e,r);else for(;t!==null;){if(t.tag===3){wu(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Kt===null||!Kt.has(n))){e=ln(r,e),e=Lh(t,e,1),t=Gt(t,e,1),e=Ne(),t!==null&&(js(t,1,e),Le(t,e));break}}t=t.return}}function wg(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ne(),e.pingedLanes|=e.suspendedLanes&r,fe===e&&(ge&r)===r&&(ue===4||ue===3&&(ge&130023424)===ge&&500>ie()-ql?vr(e,0):Fl|=r),Le(e,t)}function rf(e,t){t===0&&(e.mode&1?(t=Ls,Ls<<=1,!(Ls&130023424)&&(Ls=4194304)):t=1);var r=Ne();e=Nt(e,t),e!==null&&(js(e,t,r),Le(e,r))}function jg(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),rf(e,r)}function _g(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(C(314))}n!==null&&n.delete(t),rf(e,r)}var nf;nf=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ie.current)ze=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ze=!1,cg(e,t,r);ze=!!(e.flags&131072)}else ze=!1,ee&&t.flags&1048576&&oh(t,Si,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ci(e,t),e=t.pendingProps;var s=nn(t,je.current);Xr(t,r),s=Rl(null,t,n,e,s,r);var i=Ll();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Re(n)?(i=!0,ki(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Pl(t),s.updater=Ji,t.stateNode=s,s._reactInternals=t,Eo(t,n,e,r),t=Po(null,t,n,!0,i,r)):(t.tag=0,ee&&i&&kl(t),be(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ci(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=bg(n),e=tt(n,e),s){case 0:t=To(null,t,n,e,r);break e;case 1:t=uu(null,t,n,e,r);break e;case 11:t=lu(null,t,n,e,r);break e;case 14:t=cu(null,t,n,tt(n.type,e),r);break e}throw Error(C(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:tt(n,s),To(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:tt(n,s),uu(e,t,n,s,r);case 3:e:{if(Dh(t),e===null)throw Error(C(387));n=t.pendingProps,i=t.memoizedState,s=i.element,fh(e,t),Ci(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ln(Error(C(423)),t),t=du(e,t,n,r,s);break e}else if(n!==s){s=ln(Error(C(424)),t),t=du(e,t,n,r,s);break e}else for(De=Vt(t.stateNode.containerInfo.firstChild),Fe=t,ee=!0,st=null,r=dh(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(sn(),n===s){t=Et(e,t,r);break e}be(e,t,n,r)}t=t.child}return t;case 5:return mh(t),e===null&&bo(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,xo(n,s)?a=null:i!==null&&xo(n,i)&&(t.flags|=32),Mh(e,t),be(e,t,a,r),t.child;case 6:return e===null&&bo(t),null;case 13:return Fh(e,t,r);case 4:return Al(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=an(t,null,n,r):be(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:tt(n,s),lu(e,t,n,s,r);case 7:return be(e,t,t.pendingProps,r),t.child;case 8:return be(e,t,t.pendingProps.children,r),t.child;case 12:return be(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,Y(Ni,n._currentValue),n._currentValue=a,i!==null)if(ot(i.value,a)){if(i.children===s.children&&!Ie.current){t=Et(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=kt(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),So(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(C(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),So(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}be(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Xr(t,r),s=Ye(s),n=n(s),t.flags|=1,be(e,t,n,r),t.child;case 14:return n=t.type,s=tt(n,t.pendingProps),s=tt(n.type,s),cu(e,t,n,s,r);case 15:return $h(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:tt(n,s),ci(e,t),t.tag=1,Re(n)?(e=!0,ki(t)):e=!1,Xr(t,r),Ih(t,n,s),Eo(t,n,s,r),Po(null,t,n,!0,e,r);case 19:return qh(e,t,r);case 22:return Uh(e,t,r)}throw Error(C(156,t.tag))};function sf(e,t){return Ad(e,t)}function kg(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ge(e,t,r,n){return new kg(e,t,r,n)}function Hl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bg(e){if(typeof e=="function")return Hl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===dl)return 11;if(e===hl)return 14}return 2}function Yt(e,t){var r=e.alternate;return r===null?(r=Ge(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function hi(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")Hl(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case $r:return xr(r.children,s,i,t);case ul:a=8,s|=8;break;case Ja:return e=Ge(12,r,t,s|2),e.elementType=Ja,e.lanes=i,e;case Ya:return e=Ge(13,r,t,s),e.elementType=Ya,e.lanes=i,e;case Xa:return e=Ge(19,r,t,s),e.elementType=Xa,e.lanes=i,e;case md:return Zi(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case hd:a=10;break e;case fd:a=9;break e;case dl:a=11;break e;case hl:a=14;break e;case Rt:a=16,n=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=Ge(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function xr(e,t,r,n){return e=Ge(7,e,n,t),e.lanes=r,e}function Zi(e,t,r,n){return e=Ge(22,e,n,t),e.elementType=md,e.lanes=r,e.stateNode={isHidden:!1},e}function Ua(e,t,r){return e=Ge(6,e,null,t),e.lanes=r,e}function Ma(e,t,r){return t=Ge(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Sg(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xa(0),this.expirationTimes=xa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xa(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Vl(e,t,r,n,s,i,a,l,c){return e=new Sg(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ge(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pl(i),e}function Ng(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function af(e){if(!e)return er;e=e._reactInternals;e:{if(Er(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Re(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var r=e.type;if(Re(r))return ih(e,r,t)}return t}function of(e,t,r,n,s,i,a,l,c){return e=Vl(r,n,!0,e,s,i,a,l,c),e.context=af(null),r=e.current,n=Ne(),s=Jt(r),i=kt(n,s),i.callback=t??null,Gt(r,i,s),e.current.lanes=s,js(e,s,n),Le(e,n),e}function ea(e,t,r,n){var s=t.current,i=Ne(),a=Jt(s);return r=af(r),t.context===null?t.context=r:t.pendingContext=r,t=kt(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Gt(s,t,a),e!==null&&(at(e,s,a,i),ai(e,s,a)),a}function Li(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ju(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Gl(e,t){ju(e,t),(e=e.alternate)&&ju(e,t)}function Eg(){return null}var lf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Kl(e){this._internalRoot=e}ta.prototype.render=Kl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));ea(e,t,null,null)};ta.prototype.unmount=Kl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sr(function(){ea(null,e,null,null)}),t[St]=null}};function ta(e){this._internalRoot=e}ta.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ud();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ut.length&&t!==0&&t<Ut[r].priority;r++);Ut.splice(r,0,e),r===0&&Dd(e)}};function Jl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ra(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _u(){}function Cg(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Li(a);i.call(u)}}var a=of(t,n,e,0,null,!1,!1,"",_u);return e._reactRootContainer=a,e[St]=a.current,as(e.nodeType===8?e.parentNode:e),Sr(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Li(c);l.call(u)}}var c=Vl(e,0,!1,null,null,!1,!1,"",_u);return e._reactRootContainer=c,e[St]=c.current,as(e.nodeType===8?e.parentNode:e),Sr(function(){ea(t,c,r,n)}),c}function na(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=Li(a);l.call(c)}}ea(t,a,e,s)}else a=Cg(r,t,e,s,n);return Li(a)}Ld=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=In(t.pendingLanes);r!==0&&(pl(t,r|1),Le(t,ie()),!(Q&6)&&(cn=ie()+500,sr()))}break;case 13:Sr(function(){var n=Nt(e,1);if(n!==null){var s=Ne();at(n,e,1,s)}}),Gl(e,1)}};gl=function(e){if(e.tag===13){var t=Nt(e,134217728);if(t!==null){var r=Ne();at(t,e,134217728,r)}Gl(e,134217728)}};$d=function(e){if(e.tag===13){var t=Jt(e),r=Nt(e,t);if(r!==null){var n=Ne();at(r,e,t,n)}Gl(e,t)}};Ud=function(){return G};Md=function(e,t){var r=G;try{return G=e,t()}finally{G=r}};lo=function(e,t,r){switch(t){case"input":if(to(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Vi(n);if(!s)throw Error(C(90));gd(n),to(n,s)}}}break;case"textarea":vd(e,r);break;case"select":t=r.value,t!=null&&Gr(e,!!r.multiple,t,!1)}};Sd=Bl;Nd=Sr;var Tg={usingClientEntryPoint:!1,Events:[ks,Fr,Vi,kd,bd,Bl]},Cn={findFiberByHostInstance:pr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Pg={bundleType:Cn.bundleType,version:Cn.version,rendererPackageName:Cn.rendererPackageName,rendererConfig:Cn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ct.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Td(e),e===null?null:e.stateNode},findFiberByHostInstance:Cn.findFiberByHostInstance||Eg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vs.isDisabled&&Vs.supportsFiber)try{Bi=Vs.inject(Pg),mt=Vs}catch{}}Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tg;Be.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jl(t))throw Error(C(200));return Ng(e,t,null,r)};Be.createRoot=function(e,t){if(!Jl(e))throw Error(C(299));var r=!1,n="",s=lf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Vl(e,1,!1,null,null,r,!1,n,s),e[St]=t.current,as(e.nodeType===8?e.parentNode:e),new Kl(t)};Be.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=Td(t),e=e===null?null:e.stateNode,e};Be.flushSync=function(e){return Sr(e)};Be.hydrate=function(e,t,r){if(!ra(t))throw Error(C(200));return na(null,e,t,!0,r)};Be.hydrateRoot=function(e,t,r){if(!Jl(e))throw Error(C(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=lf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=of(t,null,e,1,r??null,s,!1,i,a),e[St]=t.current,as(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new ta(t)};Be.render=function(e,t,r){if(!ra(t))throw Error(C(200));return na(null,e,t,!1,r)};Be.unmountComponentAtNode=function(e){if(!ra(e))throw Error(C(40));return e._reactRootContainer?(Sr(function(){na(null,null,e,!1,function(){e._reactRootContainer=null,e[St]=null})}),!0):!1};Be.unstable_batchedUpdates=Bl;Be.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ra(r))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return na(e,t,r,!1,n)};Be.version="18.3.1-next-f1338f8080-20240426";function cf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cf)}catch(e){console.error(e)}}cf(),ld.exports=Be;var Ag=ld.exports,ku=Ag;Ga.createRoot=ku.createRoot,Ga.hydrateRoot=ku.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ps(){return ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ps.apply(this,arguments)}var Bt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Bt||(Bt={}));const bu="popstate";function Og(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:a,hash:l}=n.location;return qo("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:$i(s)}return Ig(t,r,null,e)}function ae(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function uf(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function zg(){return Math.random().toString(36).substr(2,8)}function Su(e,t){return{usr:e.state,key:e.key,idx:t}}function qo(e,t,r,n){return r===void 0&&(r=null),ps({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?pn(t):t,{state:r,key:t&&t.key||n||zg()})}function $i(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function pn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Ig(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,l=Bt.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(ps({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){l=Bt.Pop;let j=d(),p=j==null?null:j-u;u=j,c&&c({action:l,location:w.location,delta:p})}function f(j,p){l=Bt.Push;let g=qo(w.location,j,p);r&&r(g,j),u=d()+1;let m=Su(g,u),x=w.createHref(g);try{a.pushState(m,"",x)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(x)}i&&c&&c({action:l,location:w.location,delta:1})}function y(j,p){l=Bt.Replace;let g=qo(w.location,j,p);r&&r(g,j),u=d();let m=Su(g,u),x=w.createHref(g);a.replaceState(m,"",x),i&&c&&c({action:l,location:w.location,delta:0})}function v(j){let p=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof j=="string"?j:$i(j);return g=g.replace(/ $/,"%20"),ae(p,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,p)}let w={get action(){return l},get location(){return e(s,a)},listen(j){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(bu,h),c=j,()=>{s.removeEventListener(bu,h),c=null}},createHref(j){return t(s,j)},createURL:v,encodeLocation(j){let p=v(j);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:y,go(j){return a.go(j)}};return w}var Nu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Nu||(Nu={}));function Rg(e,t,r){return r===void 0&&(r="/"),Lg(e,t,r,!1)}function Lg(e,t,r,n){let s=typeof t=="string"?pn(t):t,i=Yl(s.pathname||"/",r);if(i==null)return null;let a=df(e);$g(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=Gg(i);l=Hg(a[c],u,n)}return l}function df(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(ae(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Xt([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(ae(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),df(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Qg(u,i.index),routesMeta:d})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of hf(i.path))s(i,a,c)}),t}function hf(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=hf(n.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function $g(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Wg(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Ug=/^:[\w-]+$/,Mg=3,Dg=2,Fg=1,qg=10,Bg=-2,Eu=e=>e==="*";function Qg(e,t){let r=e.split("/"),n=r.length;return r.some(Eu)&&(n+=Bg),t&&(n+=Dg),r.filter(s=>!Eu(s)).reduce((s,i)=>s+(Ug.test(i)?Mg:i===""?Fg:qg),n)}function Wg(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Hg(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,s={},i="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Cu({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=Cu({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:Xt([i,h.pathname]),pathnameBase:Xg(Xt([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Xt([i,h.pathnameBase]))}return a}function Cu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Vg(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:y}=d;if(f==="*"){let w=l[h]||"";a=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const v=l[h];return y&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function Vg(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),uf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Gg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return uf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Yl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Kg(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?pn(e):e;return{pathname:r?r.startsWith("/")?r:Jg(r,t):t,search:Zg(n),hash:e0(s)}}function Jg(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Da(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Yg(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Xl(e,t){let r=Yg(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Zl(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=pn(e):(s=ps({},e),ae(!s.pathname||!s.pathname.includes("?"),Da("?","pathname","search",s)),ae(!s.pathname||!s.pathname.includes("#"),Da("#","pathname","hash",s)),ae(!s.search||!s.search.includes("#"),Da("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=r;else{let h=t.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=Kg(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Xt=e=>e.join("/").replace(/\/\/+/g,"/"),Xg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Zg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,e0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function t0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ff=["post","put","patch","delete"];new Set(ff);const r0=["get",...ff];new Set(r0);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gs(){return gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gs.apply(this,arguments)}const ec=b.createContext(null),n0=b.createContext(null),ir=b.createContext(null),sa=b.createContext(null),ar=b.createContext({outlet:null,matches:[],isDataRoute:!1}),mf=b.createContext(null);function s0(e,t){let{relative:r}=t===void 0?{}:t;gn()||ae(!1);let{basename:n,navigator:s}=b.useContext(ir),{hash:i,pathname:a,search:l}=gf(e,{relative:r}),c=a;return n!=="/"&&(c=a==="/"?n:Xt([n,a])),s.createHref({pathname:c,search:l,hash:i})}function gn(){return b.useContext(sa)!=null}function Tt(){return gn()||ae(!1),b.useContext(sa).location}function pf(e){b.useContext(ir).static||b.useLayoutEffect(e)}function Pt(){let{isDataRoute:e}=b.useContext(ar);return e?y0():i0()}function i0(){gn()||ae(!1);let e=b.useContext(ec),{basename:t,future:r,navigator:n}=b.useContext(ir),{matches:s}=b.useContext(ar),{pathname:i}=Tt(),a=JSON.stringify(Xl(s,r.v7_relativeSplatPath)),l=b.useRef(!1);return pf(()=>{l.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=Zl(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Xt([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,a,i,e])}function gf(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=b.useContext(ir),{matches:s}=b.useContext(ar),{pathname:i}=Tt(),a=JSON.stringify(Xl(s,n.v7_relativeSplatPath));return b.useMemo(()=>Zl(e,JSON.parse(a),i,r==="path"),[e,a,i,r])}function a0(e,t){return o0(e,t)}function o0(e,t,r,n){gn()||ae(!1);let{navigator:s}=b.useContext(ir),{matches:i}=b.useContext(ar),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Tt(),d;if(t){var h;let j=typeof t=="string"?pn(t):t;c==="/"||(h=j.pathname)!=null&&h.startsWith(c)||ae(!1),d=j}else d=u;let f=d.pathname||"/",y=f;if(c!=="/"){let j=c.replace(/^\//,"").split("/");y="/"+f.replace(/^\//,"").split("/").slice(j.length).join("/")}let v=Rg(e,{pathname:y}),w=h0(v&&v.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:Xt([c,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:Xt([c,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,r,n);return t&&w?b.createElement(sa.Provider,{value:{location:gs({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Bt.Pop}},w):w}function l0(){let e=g0(),t=t0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:s},r):null,i)}const c0=b.createElement(l0,null);class u0 extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement(ar.Provider,{value:this.props.routeContext},b.createElement(mf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function d0(e){let{routeContext:t,match:r,children:n}=e,s=b.useContext(ec);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(ar.Provider,{value:t},n)}function h0(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||ae(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:y}=r,v=h.route.loader&&f[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let y,v=!1,w=null,j=null;r&&(y=l&&h.route.id?l[h.route.id]:void 0,w=h.route.errorElement||c0,c&&(u<0&&f===0?(v0("route-fallback",!1),v=!0,j=null):u===f&&(v=!0,j=h.route.hydrateFallbackElement||null)));let p=t.concat(a.slice(0,f+1)),g=()=>{let m;return y?m=w:v?m=j:h.route.Component?m=b.createElement(h.route.Component,null):h.route.element?m=h.route.element:m=d,b.createElement(d0,{match:h,routeContext:{outlet:d,matches:p,isDataRoute:r!=null},children:m})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?b.createElement(u0,{location:r.location,revalidation:r.revalidation,component:w,error:y,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var yf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(yf||{}),Ui=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ui||{});function f0(e){let t=b.useContext(ec);return t||ae(!1),t}function m0(e){let t=b.useContext(n0);return t||ae(!1),t}function p0(e){let t=b.useContext(ar);return t||ae(!1),t}function vf(e){let t=p0(),r=t.matches[t.matches.length-1];return r.route.id||ae(!1),r.route.id}function g0(){var e;let t=b.useContext(mf),r=m0(Ui.UseRouteError),n=vf(Ui.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function y0(){let{router:e}=f0(yf.UseNavigateStable),t=vf(Ui.UseNavigateStable),r=b.useRef(!1);return pf(()=>{r.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,gs({fromRouteId:t},i)))},[e,t])}const Tu={};function v0(e,t,r){!t&&!Tu[e]&&(Tu[e]=!0)}function x0(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function tc(e){let{to:t,replace:r,state:n,relative:s}=e;gn()||ae(!1);let{future:i,static:a}=b.useContext(ir),{matches:l}=b.useContext(ar),{pathname:c}=Tt(),u=Pt(),d=Zl(t,Xl(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function zt(e){ae(!1)}function w0(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Bt.Pop,navigator:i,static:a=!1,future:l}=e;gn()&&ae(!1);let c=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:i,static:a,future:gs({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof n=="string"&&(n=pn(n));let{pathname:d="/",search:h="",hash:f="",state:y=null,key:v="default"}=n,w=b.useMemo(()=>{let j=Yl(d,c);return j==null?null:{location:{pathname:j,search:h,hash:f,state:y,key:v},navigationType:s}},[c,d,h,f,y,v,s]);return w==null?null:b.createElement(ir.Provider,{value:u},b.createElement(sa.Provider,{children:r,value:w}))}function j0(e){let{children:t,location:r}=e;return a0(Bo(t),r)}new Promise(()=>{});function Bo(e,t){t===void 0&&(t=[]);let r=[];return b.Children.forEach(e,(n,s)=>{if(!b.isValidElement(n))return;let i=[...t,s];if(n.type===b.Fragment){r.push.apply(r,Bo(n.props.children,i));return}n.type!==zt&&ae(!1),!n.props.index||!n.props.children||ae(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Bo(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qo(){return Qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qo.apply(this,arguments)}function _0(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function k0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function b0(e,t){return e.button===0&&(!t||t==="_self")&&!k0(e)}const S0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],N0="6";try{window.__reactRouterVersion=N0}catch{}const E0="startTransition",Pu=wm[E0];function C0(e){let{basename:t,children:r,future:n,window:s}=e,i=b.useRef();i.current==null&&(i.current=Og({window:s,v5Compat:!0}));let a=i.current,[l,c]=b.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},d=b.useCallback(h=>{u&&Pu?Pu(()=>c(h)):c(h)},[c,u]);return b.useLayoutEffect(()=>a.listen(d),[a,d]),b.useEffect(()=>x0(n),[n]),b.createElement(w0,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:a,future:n})}const T0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",P0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ht=b.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=_0(t,S0),{basename:y}=b.useContext(ir),v,w=!1;if(typeof u=="string"&&P0.test(u)&&(v=u,T0))try{let m=new URL(window.location.href),x=u.startsWith("//")?new URL(m.protocol+u):new URL(u),S=Yl(x.pathname,y);x.origin===m.origin&&S!=null?u=S+x.search+x.hash:w=!0}catch{}let j=s0(u,{relative:s}),p=A0(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function g(m){n&&n(m),m.defaultPrevented||p(m)}return b.createElement("a",Qo({},f,{href:v||j,onClick:w||i?n:g,ref:r,target:c}))});var Au;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Au||(Au={}));var Ou;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ou||(Ou={}));function A0(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:l}=t===void 0?{}:t,c=Pt(),u=Tt(),d=gf(e,{relative:a});return b.useCallback(h=>{if(b0(h,r)){h.preventDefault();let f=n!==void 0?n:$i(u)===$i(d);c(e,{replace:f,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,d,n,s,r,e,i,a,l])}const O0="modulepreload",z0=function(e){return"/"+e},zu={},Ss=function(t,r,n){if(!r||r.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=z0(i),i in zu)return;zu[i]=!0;const a=i.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!n)for(let d=s.length-1;d>=0;d--){const h=s[d];if(h.href===i&&(!a||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":O0,a||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),a)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})},I0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ss(()=>Promise.resolve().then(()=>yn),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class rc extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class R0 extends rc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class L0 extends rc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class $0 extends rc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Wo;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Wo||(Wo={}));var U0=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class M0{constructor(t,{headers:r={},customFetch:n,region:s=Wo.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=I0(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return U0(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=a):typeof a=="string"?(l["Content-Type"]="text/plain",u=a):typeof FormData<"u"&&a instanceof FormData?u=a:(l["Content-Type"]="application/json",u=JSON.stringify(a)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(v=>{throw new R0(v)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new L0(d);if(!d.ok)throw new $0(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return f==="application/json"?y=yield d.json():f==="application/octet-stream"?y=yield d.blob():f==="text/event-stream"?y=d:f==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null}}catch(s){return{data:null,error:s}}})}}var Oe={},nc={},ia={},Ns={},aa={},oa={},D0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},un=D0();const F0=un.fetch,xf=un.fetch.bind(un),wf=un.Headers,q0=un.Request,B0=un.Response,yn=Object.freeze(Object.defineProperty({__proto__:null,Headers:wf,Request:q0,Response:B0,default:xf,fetch:F0},Symbol.toStringTag,{value:"Module"})),Q0=sm(yn);var la={};Object.defineProperty(la,"__esModule",{value:!0});let W0=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};la.default=W0;var jf=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(oa,"__esModule",{value:!0});const H0=jf(Q0),V0=jf(la);let G0=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=H0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,l,c;let u=null,d=null,h=null,f=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=p:d=JSON.parse(p))}const w=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),j=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&j&&j.length>1&&(h=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{u=JSON.parse(w),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,y="OK")}catch{i.status===404&&w===""?(f=204,y="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,y="OK"),u&&this.shouldThrowOnError)throw new V0.default(u)}return{error:u,data:d,count:h,status:f,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,l,c;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};oa.default=G0;var K0=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(aa,"__esModule",{value:!0});const J0=K0(oa);let Y0=class extends J0.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};aa.default=Y0;var X0=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ns,"__esModule",{value:!0});const Z0=X0(aa);let ey=class extends Z0.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Ns.default=ey;var ty=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ia,"__esModule",{value:!0});const Tn=ty(Ns);let ry=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Tn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Tn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Tn.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Tn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Tn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ia.default=ry;var ca={},ua={};Object.defineProperty(ua,"__esModule",{value:!0});ua.version=void 0;ua.version="0.0.0-automated";Object.defineProperty(ca,"__esModule",{value:!0});ca.DEFAULT_HEADERS=void 0;const ny=ua;ca.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${ny.version}`};var _f=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nc,"__esModule",{value:!0});const sy=_f(ia),iy=_f(Ns),ay=ca;let oy=class kf{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},ay.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new sy.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new kf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(a="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new iy.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};nc.default=oy;var vn=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.PostgrestError=Oe.PostgrestBuilder=Oe.PostgrestTransformBuilder=Oe.PostgrestFilterBuilder=Oe.PostgrestQueryBuilder=Oe.PostgrestClient=void 0;const bf=vn(nc);Oe.PostgrestClient=bf.default;const Sf=vn(ia);Oe.PostgrestQueryBuilder=Sf.default;const Nf=vn(Ns);Oe.PostgrestFilterBuilder=Nf.default;const Ef=vn(aa);Oe.PostgrestTransformBuilder=Ef.default;const Cf=vn(oa);Oe.PostgrestBuilder=Cf.default;const Tf=vn(la);Oe.PostgrestError=Tf.default;var ly=Oe.default={PostgrestClient:bf.default,PostgrestQueryBuilder:Sf.default,PostgrestFilterBuilder:Nf.default,PostgrestTransformBuilder:Ef.default,PostgrestBuilder:Cf.default,PostgrestError:Tf.default};const{PostgrestClient:cy,PostgrestQueryBuilder:qx,PostgrestFilterBuilder:Bx,PostgrestTransformBuilder:Qx,PostgrestBuilder:Wx,PostgrestError:Hx}=ly;let Ho;typeof window>"u"?Ho=require("ws"):Ho=window.WebSocket;const uy=Ho,dy="2.11.10",hy={"X-Client-Info":`realtime-js/${dy}`},fy="1.0.0",Pf=1e4,my=1e3;var en;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(en||(en={}));var ke;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ke||(ke={}));var nt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(nt||(nt={}));var Vo;(function(e){e.websocket="websocket"})(Vo||(Vo={}));var mr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(mr||(mr={}));class py{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(t.slice(a,a+s));a=a+s;const c=n.decode(t.slice(a,a+i));a=a+i;const u=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Af{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var J;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(J||(J={}));const Iu=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,a)=>(i[a]=gy(a,e,t,s),i),{})},gy=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?Of(i,a):Go(a)},Of=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return wy(t,r)}switch(e){case J.bool:return yy(t);case J.float4:case J.float8:case J.int2:case J.int4:case J.int8:case J.numeric:case J.oid:return vy(t);case J.json:case J.jsonb:return xy(t);case J.timestamp:return jy(t);case J.abstime:case J.date:case J.daterange:case J.int4range:case J.int8range:case J.money:case J.reltime:case J.text:case J.time:case J.timestamptz:case J.timetz:case J.tsrange:case J.tstzrange:return Go(t);default:return Go(t)}},Go=e=>e,yy=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},vy=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},xy=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},wy=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>Of(t,l))}return e},jy=e=>typeof e=="string"?e.replace(" ","T"):e,zf=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Fa{constructor(t,r,n={},s=Pf){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ru;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ru||(Ru={}));class Hn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hn.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=Hn.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Hn.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const f=d.map(j=>j.presence_ref),y=h.map(j=>j.presence_ref),v=d.filter(j=>y.indexOf(j.presence_ref)<0),w=h.filter(j=>f.indexOf(j.presence_ref)<0);v.length>0&&(l[u]=v),w.length>0&&(c[u]=w)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(y=>y.presence_ref),f=d.filter(y=>h.indexOf(y.presence_ref)<0);t[l].unshift(...f)}n(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Lu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Lu||(Lu={}));var $u;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})($u||($u={}));var xt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(xt||(xt={}));class sc{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ke.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Fa(this,nt.join,this.params,this.timeout),this.rejoinTimer=new Af(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ke.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ke.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ke.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Hn(this),this.broadcastEndpointURL=zf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:l}}=this.params;this._onError(d=>t==null?void 0:t(xt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(xt.CLOSED));const c={},u={broadcast:i,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(xt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,y=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,v=[];for(let w=0;w<y;w++){const j=f[w],{filter:{event:p,schema:g,table:m,filter:x}}=j,S=d&&d[w];if(S&&S.event===p&&S.schema===g&&S.table===m&&S.filter===x)v.push(Object.assign(Object.assign({},j),{id:S.id}));else{this.unsubscribe(),this.state=ke.errored,t==null||t(xt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(xt.SUBSCRIBED);return}}).receive("error",d=>{this.state=ke.errored,t==null||t(xt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(xt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ke.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nt.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const s=new Fa(this,nt.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Fa(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=nt;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var v,w,j;return((v=y.filter)===null||v===void 0?void 0:v.event)==="*"||((j=(w=y.filter)===null||w===void 0?void 0:w.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===a}).map(y=>y.callback(f,n)):(i=this.bindings[a])===null||i===void 0||i.filter(y=>{var v,w,j,p,g,m;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in y){const x=y.id,S=(v=y.filter)===null||v===void 0?void 0:v.event;return x&&((w=r.ids)===null||w===void 0?void 0:w.includes(x))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const x=(g=(p=y==null?void 0:y.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return x==="*"||x===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===a}).map(y=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:w,table:j,commit_timestamp:p,type:g,errors:m}=v;f=Object.assign(Object.assign({},{schema:w,table:j,commit_timestamp:p,eventType:g,new:{},old:{},errors:m}),this._getPayloadRecords(v))}y.callback(f,n)})}_isClosed(){return this.state===ke.closed}_isJoined(){return this.state===ke.joined}_isJoining(){return this.state===ke.joining}_isLeaving(){return this.state===ke.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&sc.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(nt.close,{},t)}_onError(t){this._on(nt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ke.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Iu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Iu(t.columns,t.old_record)),r}}const Uu=()=>{},_y=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ky{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=hy,this.params={},this.timeout=Pf,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Uu,this.ref=0,this.logger=Uu,this.conn=null,this.sendBuffer=[],this.serializer=new py,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...l)=>Ss(()=>Promise.resolve().then(()=>yn),void 0).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${t}/${Vo.websocket}`,this.httpEndpoint=zf(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,a)=>a(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Af(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=uy),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new by(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:fy}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case en.connecting:return mr.Connecting;case en.open:return mr.Open;case en.closing:return mr.Closing;default:return mr.Closed}}isConnected(){return this.connectionState()===mr.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new sc(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(nt.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(my,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:a}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(nt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([_y],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class by{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=en.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class ic extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function de(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Sy extends ic{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ko extends ic{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Ny=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const If=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ss(()=>Promise.resolve().then(()=>yn),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Ey=()=>Ny(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ss(()=>Promise.resolve().then(()=>yn),void 0)).Response:Response}),Jo=e=>{if(Array.isArray(e))return e.map(r=>Jo(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Jo(n)}),t};var Cr=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const qa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Cy=(e,t,r)=>Cr(void 0,void 0,void 0,function*(){const n=yield Ey();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new Sy(qa(s),e.status||500))}).catch(s=>{t(new Ko(qa(s),s))}):t(new Ko(qa(e),e))}),Ty=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Es(e,t,r,n,s,i){return Cr(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,Ty(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>Cy(c,l,n))})})}function Mi(e,t,r,n){return Cr(this,void 0,void 0,function*(){return Es(e,"GET",t,r,n)})}function $t(e,t,r,n,s){return Cr(this,void 0,void 0,function*(){return Es(e,"POST",t,n,s,r)})}function Py(e,t,r,n,s){return Cr(this,void 0,void 0,function*(){return Es(e,"PUT",t,n,s,r)})}function Ay(e,t,r,n){return Cr(this,void 0,void 0,function*(){return Es(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Rf(e,t,r,n,s){return Cr(this,void 0,void 0,function*(){return Es(e,"DELETE",t,n,s,r)})}var Pe=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Oy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Mu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class zy{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=If(s)}uploadOrUpdate(t,r,n,s){return Pe(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Mu),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(de(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Pe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Mu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(de(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Pe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield $t(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new ic("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}update(t,r,n){return Pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Pe(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Pe(this,void 0,void 0,function*(){try{return{data:{path:(yield $t(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Pe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield $t(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Pe(this,void 0,void 0,function*(){try{const s=yield $t(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}download(t,r){return Pe(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Mi(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(de(l))return{data:null,error:l};throw l}})}info(t){return Pe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Mi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Jo(n),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}exists(t){return Pe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Ay(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(de(n)&&n instanceof Ko){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Pe(this,void 0,void 0,function*(){try{return{data:yield Rf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}list(t,r,n){return Pe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Oy),r),{prefix:t||""});return{data:yield $t(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Iy="2.7.1",Ry={"X-Client-Info":`storage-js/${Iy}`};var Ar=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Ly{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Ry),r),this.fetch=If(n)}listBuckets(){return Ar(this,void 0,void 0,function*(){try{return{data:yield Mi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(de(t))return{data:null,error:t};throw t}})}getBucket(t){return Ar(this,void 0,void 0,function*(){try{return{data:yield Mi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Ar(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Ar(this,void 0,void 0,function*(){try{return{data:yield Py(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ar(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ar(this,void 0,void 0,function*(){try{return{data:yield Rf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}}class $y extends Ly{constructor(t,r={},n){super(t,r,n)}from(t){return new zy(this.url,this.headers,t,this.fetch)}}const Uy="2.50.0";let Ln="";typeof Deno<"u"?Ln="deno":typeof document<"u"?Ln="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ln="react-native":Ln="node";const My={"X-Client-Info":`supabase-js-${Ln}/${Uy}`},Dy={headers:My},Fy={schema:"public"},qy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},By={};var Qy=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Wy=e=>{let t;return e?t=e:typeof fetch>"u"?t=xf:t=fetch,(...r)=>t(...r)},Hy=()=>typeof Headers>"u"?wf:Headers,Vy=(e,t,r)=>{const n=Wy(r),s=Hy();return(i,a)=>Qy(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},a),{headers:u}))})};var Gy=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function Ky(e){return e.endsWith("/")?e:e+"/"}function Jy(e,t){var r,n;const{db:s,auth:i,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),a),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Gy(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const Lf="2.70.0",Rr=30*1e3,Yo=3,Ba=Yo*Rr,Yy="http://localhost:9999",Xy="supabase.auth.token",Zy={"X-Client-Info":`gotrue-js/${Lf}`},Xo="X-Supabase-Api-Version",$f={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ev=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,tv=6e5;class ac extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function D(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class rv extends ac{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function nv(e){return D(e)&&e.name==="AuthApiError"}class Uf extends ac{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class or extends ac{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class It extends or{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sv(e){return D(e)&&e.name==="AuthSessionMissingError"}class Gs extends or{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ks extends or{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Js extends or{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function iv(e){return D(e)&&e.name==="AuthImplicitGrantRedirectError"}class Du extends or{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zo extends or{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Qa(e){return D(e)&&e.name==="AuthRetryableFetchError"}class Fu extends or{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Vn extends or{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Di="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qu=` 	
\r=`.split(""),av=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<qu.length;t+=1)e[qu[t].charCodeAt(0)]=-2;for(let t=0;t<Di.length;t+=1)e[Di[t].charCodeAt(0)]=t;return e})();function Bu(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Di[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Di[n]),t.queuedBits-=6}}function Mf(e,t,r){const n=av[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Qu(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{cv(a,n,r)};for(let a=0;a<e.length;a+=1)Mf(e.charCodeAt(a),s,i);return t.join("")}function ov(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function lv(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}ov(n,t)}}function cv(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function uv(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Mf(e.charCodeAt(s),r,n);return new Uint8Array(t)}function dv(e){const t=[];return lv(e,r=>t.push(r)),new Uint8Array(t)}function hv(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Bu(s,r,n)),Bu(null,r,n),t.join("")}function fv(e){return Math.round(Date.now()/1e3)+e}function mv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const et=()=>typeof window<"u"&&typeof document<"u",ur={tested:!1,writable:!1},Gn=()=>{if(!et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ur.tested)return ur.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ur.tested=!0,ur.writable=!0}catch{ur.tested=!0,ur.writable=!1}return ur.writable};function pv(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Df=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ss(()=>Promise.resolve().then(()=>yn),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},gv=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ff=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ys=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Xs=async(e,t)=>{await e.removeItem(t)};class da{constructor(){this.promise=new da.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}da.promiseConstructor=Promise;function Wa(e){const t=e.split(".");if(t.length!==3)throw new Vn("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!ev.test(t[n]))throw new Vn("JWT not in base64url format");return{header:JSON.parse(Qu(t[0])),payload:JSON.parse(Qu(t[1])),signature:uv(t[2]),raw:{header:t[0],payload:t[1]}}}async function yv(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function vv(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function xv(e){return("0"+e.toString(16)).substr(-2)}function wv(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,xv).join("")}async function jv(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function _v(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await jv(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Or(e,t,r=!1){const n=wv();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Ff(e,`${t}-code-verifier`,s);const i=await _v(n);return[i,n===i?"plain":"s256"]}const kv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bv(e){const t=e.headers.get(Xo);if(!t||!t.match(kv))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Sv(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Nv(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ev=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function zr(e){if(!Ev.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Cv=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const fr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Tv=[502,503,504];async function Wu(e){var t;if(!gv(e))throw new Zo(fr(e),0);if(Tv.includes(e.status))throw new Zo(fr(e),e.status);let r;try{r=await e.json()}catch(i){throw new Uf(fr(i),i)}let n;const s=bv(e);if(s&&s.getTime()>=$f["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Fu(fr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new It}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Fu(fr(r),e.status,r.weak_password.reasons);throw new rv(fr(r),e.status||500,n)}const Pv=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function q(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Xo]||(i[Xo]=$f["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await Av(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Av(e,t,r,n,s,i){const a=Pv(t,n,s,i);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new Zo(fr(c),0)}if(l.ok||await Wu(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Wu(c)}}function yt(e){var t;let r=null;Rv(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=fv(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Hu(e){const t=yt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Dt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Ov(e){return{data:e,error:null}}function zv(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=Cv(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function Iv(e){return e}function Rv(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ha=["global","local","others"];var Lv=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class $v{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Df(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Ha[0]){if(Ha.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ha.join(", ")}`);try{return await q(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await q(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Dt})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Lv(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:zv,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(D(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await q(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Dt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Iv});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,y=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(v.split(";")[1].split("=")[1]);u[`${j}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(D(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){zr(t);try{return await q(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Dt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){zr(t);try{return await q(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Dt})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){zr(t);try{return await q(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Dt})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){zr(t.userId);try{const{data:r,error:n}=await q(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(D(r))return{data:null,error:r};throw r}}async _deleteFactor(t){zr(t.userId),zr(t.id);try{return{data:await q(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}}const Uv={getItem:e=>Gn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Gn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Gn()&&globalThis.localStorage.removeItem(e)}};function Vu(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Mv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ir={debug:!!(globalThis&&Gn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class qf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Dv extends qf{}async function Fv(e,t,r){Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Dv(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ir.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Mv();const qv={url:Yy,storageKey:Xy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Zy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Gu(e,t,r){return await r()}class ys{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ys.nextInstanceID,ys.nextInstanceID+=1,this.instanceID>0&&et()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},qv),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new $v({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Df(s.fetch),this.lock=s.lock||Gu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:et()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Fv:this.lock=Gu,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Gn()?this.storage=Uv:(this.memoryStorage={},this.storage=Vu(this.memoryStorage)):(this.memoryStorage={},this.storage=Vu(this.memoryStorage)),et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Lf}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=pv(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),et()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),iv(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return D(r)?{error:r}:{error:new Uf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:yt}),{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await Or(this.storage,this.storageKey)),i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:y,code_challenge_method:v},xform:yt})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:yt})}else throw new Ks("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:l}=t;r=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Hu})}else if("phone"in t){const{phone:i,password:a,options:l}=t;r=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Hu})}else throw new Ks("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Gs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,a,l,c,u,d,h,f,y;let v,w;if("message"in t)v=t.message,w=t.signature;else{const{chain:j,wallet:p,statement:g,options:m}=t;let x;if(et())if(typeof p=="object")x=p;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))x=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=p}const S=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in x&&x.signIn){const E=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),g?{statement:g}:null));let T;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")T=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)T=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)v=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),w=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const E=await x.signMessage(new TextEncoder().encode(v),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=E}}try{const{data:j,error:p}=await q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:hv(w)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:yt});if(p)throw p;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Gs}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:p})}catch(j){if(D(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(t){const r=await Ys(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:yt});if(await Xs(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Gs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(D(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,l=await q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:yt}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Gs}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Or(this.storage,this.storageKey));const{error:h}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ks("You must provide either an email or phone number.")}catch(l){if(D(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:yt});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Or(this.storage,this.storageKey)),await q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:Ov})}catch(i){if(D(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new It;const{error:s}=await q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(D(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await q(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:l}=await q(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new Ks("You must provide either an email or phone number and a type")}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ys(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ba:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Dt}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new It}:await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Dt})})}catch(r){if(D(r))return sv(r)&&(await this._removeSession(),await Xs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new It;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Or(this.storage,this.storageKey));const{data:u,error:d}=await q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Dt});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new It;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Wa(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(D(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new It;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!et())throw new Js("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Js(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Du("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Js("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Du("No code detected.");const{data:g,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!a||!u)throw new Js("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const y=f-d;y*1e3<=Rr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:w,error:j}=await this._getUser(i);if(j)throw j;const p={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(n){if(D(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ys(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(nv(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Xs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=mv(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Or(this.storage,this.storageKey,!0));try{return await q(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(D(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await q(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return et()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(D(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await q(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await vv(async s=>(s>0&&await yv(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:yt})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Qa(i)&&Date.now()+a-n<Rr})}catch(n){if(this._debug(r,"error",n),D(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),et()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Ys(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Ba;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Ba}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Qa(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new It;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new da;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new It;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),D(i)){const a={session:null,error:i};return Qa(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ff(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Xs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&et()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Rr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Rr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Rr}ms, refresh threshold is ${Yo} ticks`),s<=Yo&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof qf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!et()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Or(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await q(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await q(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:l}=await q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(D(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(D(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Wa(s.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n||(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+tv>Date.now()))return n;const{data:s,error:i}=await q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Vn("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(a=>a.kid===t),!n)throw new Vn("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:y,error:v}=await this.getSession();if(v||!y.session)return{data:null,error:v};n=y.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=Wa(n);if(Sv(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:a},error:null}}const u=Nv(s.alg),d=await this.fetchJwk(s.kid,r),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,a,dv(`${l}.${c}`)))throw new Vn("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}}ys.nextInstanceID=0;const Bv=ys;class Qv extends Bv{constructor(t){super(t)}}var Wv=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Hv{constructor(t,r,n){var s,i,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Ky(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:Fy,realtime:By,auth:Object.assign(Object.assign({},qy),{storageKey:u}),global:Dy},h=Jy(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=Vy(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new cy(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new M0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new $y(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Wv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Qv({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new ky(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Vv=(e,t,r)=>new Hv(e,t,r),Gv="https://yimvtcivvfvygkzqaurl.supabase.co",Kv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlpbXZ0Y2l2dmZ2eWdrenFhdXJsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk3ODU4MzIsImV4cCI6MjA2NTM2MTgzMn0.NKBx3sBG1D-47J77I2Dg50-KtFQ9naQWsC8LBZnvTXo",$=Vv(Gv,Kv),Bf=b.createContext(void 0);function lt(){const e=b.useContext(Bf);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function Jv({children:e}){const[t,r]=b.useState(null),[n,s]=b.useState(null),[i,a]=b.useState(!0);b.useEffect(()=>{$.auth.getSession().then(({data:{session:y}})=>{s(y),r((y==null?void 0:y.user)??null),a(!1)}).catch(async y=>{console.error("Error getting session:",y),await $.auth.signOut(),r(null),s(null),a(!1)});const{data:{subscription:f}}=$.auth.onAuthStateChange(async(y,v)=>{if(s(v),r((v==null?void 0:v.user)??null),a(!1),y==="SIGNED_IN"&&(v!=null&&v.user)){const{data:w,error:j}=await $.from("profiles").select("*").eq("id",v.user.id).maybeSingle();j&&j.code!=="PGRST116"?console.error("Error checking profile:",j):w||await l(v.user)}});return()=>f.unsubscribe()},[]);const l=async f=>{var y,v;try{const{error:w}=await $.from("profiles").insert({id:f.id,email:f.email,full_name:((y=f.user_metadata)==null?void 0:y.full_name)||null,avatar_url:((v=f.user_metadata)==null?void 0:v.avatar_url)||null});if(w)throw w}catch(w){console.error("Error creating profile:",w)}},h={user:t,session:n,loading:i,signUp:async(f,y,v)=>{const{error:w}=await $.auth.signUp({email:f,password:y,options:{data:{full_name:v}}});return{error:w}},signIn:async(f,y)=>{const{error:v}=await $.auth.signInWithPassword({email:f,password:y});return{error:v}},signOut:async()=>{console.log("Signing out"),await $.auth.signOut(),console.log("Signed out"),r(null),s(null)}};return o.jsx(Bf.Provider,{value:h,children:e})}var Yv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Xv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zv=(e,t)=>{const r=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,children:l,...c},u)=>b.createElement("svg",{ref:u,...Yv,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:`lucide lucide-${Xv(e)}`,...c},[...t.map(([d,h])=>b.createElement(d,h)),...(Array.isArray(l)?l:[l])||[]]));return r.displayName=`${e}`,r};var F=Zv;const ex=F("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Qf=F("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),tx=F("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Ku=F("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Wf=F("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),rx=F("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),oc=F("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Kn=F("Bot",[["rect",{width:"18",height:"10",x:"3",y:"11",rx:"2",key:"1ofdy3"}],["circle",{cx:"12",cy:"5",r:"2",key:"f1ur92"}],["path",{d:"M12 7v4",key:"xawao1"}],["line",{x1:"8",x2:"8",y1:"16",y2:"16",key:"h6x27f"}],["line",{x1:"16",x2:"16",y1:"16",y2:"16",key:"5lty7f"}]]),xn=F("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),el=F("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),dn=F("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),nx=F("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Hf=F("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Vf=F("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Jn=F("FileQuestion",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["path",{d:"M10 10.3c.2-.4.5-.8.9-1a2.1 2.1 0 0 1 2.6.4c.3.4.5.8.5 1.3 0 1.3-2 2-2 2",key:"1umxtm"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),sx=F("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),lc=F("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),ft=F("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),tr=F("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),Ju=F("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Gf=F("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Kf=F("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),vs=F("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Jf=F("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),ix=F("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),ax=F("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),xs=F("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),ox=F("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),lx=F("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),tl=F("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),cx=F("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ux=F("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),cc=F("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),wr=F("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Yf=F("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),ha=F("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),rl=F("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),tn=F("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),dx=F("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Fi=F("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),wn=F("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),hx=F("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Pn({children:e}){const{user:t,signOut:r}=lt(),n=Tt(),s=Pt(),[i,a]=Yn.useState(!1),[l,c]=Yn.useState(!1),u=async()=>{await r(),s("/home")},d=[{name:"Home",href:"/home",icon:sx},{name:"Chat",href:"/chat",icon:vs},{name:"Quiz",href:"/quiz",icon:Jn}],h=f=>n.pathname===f;return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsxs("header",{className:"bg-white shadow-sm border-b border-gray-200",children:[o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsx("div",{className:"flex items-center",children:o.jsxs(ht,{to:"/home",className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-8 gradient-bg rounded-lg flex items-center justify-center",children:o.jsx(xn,{className:"w-5 h-5 text-white"})}),o.jsx("span",{className:"text-xl font-bold text-gray-900",children:"TutorAI"})]})}),o.jsx("nav",{className:"hidden md:flex space-x-8",children:d.map(f=>{const y=f.icon;return o.jsxs(ht,{to:f.href,className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors duration-200 ${h(f.href)?"bg-primary-50 text-primary-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[o.jsx(y,{className:"w-4 h-4"}),o.jsx("span",{children:f.name})]},f.name)})}),o.jsxs("div",{className:"flex items-center space-x-4",children:[t?o.jsx("div",{className:"hidden md:flex items-center space-x-3",children:o.jsxs("div",{className:"relative",children:[o.jsx("button",{onClick:()=>c(!l),className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center hover:bg-primary-200 transition-colors duration-200",children:o.jsx(tn,{className:"w-4 h-4 text-primary-600"})}),l&&o.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:[o.jsx("div",{className:"px-4 py-2 border-b border-gray-100",children:o.jsx("p",{className:"text-sm text-gray-600 truncate",children:t==null?void 0:t.email})}),o.jsxs(ht,{to:"/profile",onClick:()=>c(!1),className:"flex items-center space-x-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:[o.jsx(tn,{className:"w-4 h-4"}),o.jsx("span",{children:"Profile"})]}),o.jsxs("button",{onClick:u,className:"flex items-center space-x-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 w-full text-left",children:[o.jsx(Ju,{className:"w-4 h-4"}),o.jsx("span",{children:"Sign Out"})]})]})]})}):o.jsx("div",{className:"hidden md:flex items-center space-x-3",children:o.jsxs("button",{onClick:()=>s("/auth"),className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white text-sm font-medium rounded-lg transition-colors duration-200",children:[o.jsx(tr,{className:"w-4 h-4"}),o.jsx("span",{children:"Login"})]})}),o.jsx("button",{onClick:()=>a(!i),className:"md:hidden p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-50",children:i?o.jsx(wn,{className:"w-5 h-5"}):o.jsx(Kf,{className:"w-5 h-5"})})]})]})}),i&&o.jsx("div",{className:"md:hidden border-t border-gray-200 bg-white",children:o.jsxs("div",{className:"px-4 py-3 space-y-1",children:[d.map(f=>{const y=f.icon;return o.jsxs(ht,{to:f.href,onClick:()=>a(!1),className:`flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors duration-200 ${h(f.href)?"bg-primary-50 text-primary-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[o.jsx(y,{className:"w-4 h-4"}),o.jsx("span",{children:f.name})]},f.name)}),o.jsx("div",{className:"border-t border-gray-200 pt-3 mt-3",children:t?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"px-3 py-2 text-sm text-gray-600",children:t==null?void 0:t.email}),o.jsxs(ht,{to:"/profile",onClick:()=>a(!1),className:"flex items-center space-x-3 px-3 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-lg transition-colors duration-200 w-full",children:[o.jsx(tn,{className:"w-4 h-4"}),o.jsx("span",{children:"Profile"})]}),o.jsxs("button",{onClick:()=>{u(),a(!1)},className:"flex items-center space-x-3 px-3 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-lg transition-colors duration-200 w-full",children:[o.jsx(Ju,{className:"w-4 h-4"}),o.jsx("span",{children:"Sign Out"})]})]}):o.jsxs("button",{onClick:()=>{s("/auth"),a(!1)},className:"flex items-center space-x-3 px-3 py-2 text-sm font-medium bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors duration-200 w-full",children:[o.jsx(tr,{className:"w-4 h-4"}),o.jsx("span",{children:"Login"})]})})]})})]}),l&&o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>c(!1)}),o.jsx("main",{className:"flex-1",children:e})]})}function fx(){const[e,t]=b.useState(!1),[r,n]=b.useState(""),[s,i]=b.useState(""),[a,l]=b.useState(""),[c,u]=b.useState(!1),[d,h]=b.useState(!1),[f,y]=b.useState(""),{signIn:v,signUp:w}=lt(),j=async p=>{p.preventDefault(),h(!0),y("");try{if(e){const{error:g}=await w(r,s,a);if(g)throw g}else{const{error:g}=await v(r,s);if(g)throw g}}catch(g){y(g.message||"An error occurred")}finally{h(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 via-white to-primary-50 py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 gradient-bg rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(xn,{className:"w-8 h-8 text-white"})}),o.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:e?"Create your account":"Welcome back"}),o.jsx("p",{className:"mt-2 text-sm text-gray-600",children:e?"Start your personalized learning journey":"Sign in to continue your learning"})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:j,children:[o.jsxs("div",{className:"space-y-4",children:[e&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"fullName",className:"sr-only",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(tn,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{id:"fullName",name:"fullName",type:"text",required:e,value:a,onChange:p=>l(p.target.value),className:"input-field pl-10",placeholder:"Full Name"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(Gf,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:p=>n(p.target.value),className:"input-field pl-10",placeholder:"Email address"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(ft,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{id:"password",name:"password",type:c?"text":"password",autoComplete:e?"new-password":"current-password",required:!0,value:s,onChange:p=>i(p.target.value),className:"input-field pl-10 pr-10",placeholder:"Password"}),o.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>u(!c),children:c?o.jsx(Hf,{className:"h-5 w-5 text-gray-400"}):o.jsx(Vf,{className:"h-5 w-5 text-gray-400"})})]})]})]}),f&&o.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm",children:f}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:d,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:d?o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),e?"Creating account...":"Signing in..."]}):e?"Create Account":"Sign In"})}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:()=>{t(!e),y("")},className:"text-primary-600 hover:text-primary-500 text-sm font-medium",children:e?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})]})})}class An{static async fetchScheduleItems(t){try{const{data:r,error:n}=await $.from("schedule").select("*").eq("user_id",t.id).order("date",{ascending:!0}).order("time",{ascending:!0});if(n)throw n;return r||[]}catch(r){throw console.error("Error fetching schedule items:",r),r}}static async fetchScheduleItemsByDate(t,r){try{const{data:n,error:s}=await $.from("schedule").select("*").eq("user_id",t.id).eq("date",r).order("time",{ascending:!0});if(s)throw s;return n||[]}catch(n){throw console.error("Error fetching schedule items by date:",n),n}}static async fetchUpcomingScheduleItems(t,r){try{const n=new Date().toISOString().split("T")[0];let s=$.from("schedule").select("*").eq("user_id",t.id).gte("date",n).order("date",{ascending:!0}).order("time",{ascending:!0});r&&(s=s.limit(r));const{data:i,error:a}=await s;if(a)throw a;return i||[]}catch(n){throw console.error("Error fetching upcoming schedule items:",n),n}}static async createScheduleItem(t,r){try{const{data:n,error:s}=await $.from("schedule").insert({user_id:t.id,title:r.title,subject:r.subject,date:r.date,time:r.time}).select().single();if(s)throw s;return n}catch(n){throw console.error("Error creating schedule item:",n),n}}static async updateScheduleItem(t,r,n){try{const{data:s,error:i}=await $.from("schedule").update({...n,updated_at:new Date().toISOString()}).eq("id",r).eq("user_id",t.id).select().single();if(i)throw i;return s}catch(s){throw console.error("Error updating schedule item:",s),s}}static async toggleScheduleItemCompletion(t,r){try{const{data:n,error:s}=await $.from("schedule").select("completed").eq("id",r).eq("user_id",t.id).single();if(s)throw s;const{data:i,error:a}=await $.from("schedule").update({completed:!n.completed,updated_at:new Date().toISOString()}).eq("id",r).eq("user_id",t.id).select().single();if(a)throw a;return i}catch(n){throw console.error("Error toggling schedule item completion:",n),n}}static async deleteScheduleItem(t,r){try{const{error:n}=await $.from("schedule").delete().eq("id",r).eq("user_id",t.id);if(n)throw n}catch(n){throw console.error("Error deleting schedule item:",n),n}}static async getScheduleStats(t){try{const r=new Date().toISOString().split("T")[0],{data:n,error:s}=await $.from("schedule").select("completed, date").eq("user_id",t.id);if(s)throw s;const i=(n==null?void 0:n.length)||0,a=(n==null?void 0:n.filter(d=>d.completed).length)||0,l=i-a,c=(n==null?void 0:n.filter(d=>d.date===r).length)||0,u=(n==null?void 0:n.filter(d=>d.date>=r&&!d.completed).length)||0;return{total:i,completed:a,pending:l,todayItems:c,upcomingItems:u}}catch(r){throw console.error("Error getting schedule stats:",r),r}}}class Se{static getGuestUsage(){try{const t=localStorage.getItem(this.STORAGE_KEY);if(t)return JSON.parse(t)}catch(t){console.error("Error reading guest usage:",t)}return{chatsUsed:0,quizzesGenerated:0,quizAttempts:0}}static saveGuestUsage(t){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(t))}catch(r){console.error("Error saving guest usage:",r)}}static getLimits(){return{...this.LIMITS}}static canPerformAction(t){const r=this.getGuestUsage(),n=this.getLimits();switch(t){case"chat":return r.chatsUsed<n.maxChats;case"quiz":return r.quizzesGenerated<n.maxQuizzes;case"quizAttempt":return r.quizAttempts<n.maxQuizAttempts;default:return!1}}static incrementUsage(t){const r=this.getGuestUsage();switch(t){case"chat":r.chatsUsed++;break;case"quiz":r.quizzesGenerated++;break;case"quizAttempt":r.quizAttempts++;break}this.saveGuestUsage(r)}static getRemainingUsage(t){const r=this.getGuestUsage(),n=this.getLimits();switch(t){case"chat":return Math.max(0,n.maxChats-r.chatsUsed);case"quiz":return Math.max(0,n.maxQuizzes-r.quizzesGenerated);case"quizAttempt":return Math.max(0,n.maxQuizAttempts-r.quizAttempts);default:return 0}}static resetGuestUsage(){localStorage.removeItem(this.STORAGE_KEY)}static getUsageSummary(){const t=this.getGuestUsage(),r=this.getLimits();return{chats:{used:t.chatsUsed,remaining:r.maxChats-t.chatsUsed,total:r.maxChats},quizzes:{used:t.quizzesGenerated,remaining:r.maxQuizzes-t.quizzesGenerated,total:r.maxQuizzes},quizAttempts:{used:t.quizAttempts,remaining:r.maxQuizAttempts-t.quizAttempts,total:r.maxQuizAttempts}}}}fa(Se,"STORAGE_KEY","tutorAI_guest_usage"),fa(Se,"LIMITS",{maxChats:5,maxQuizzes:1,maxQuizAttempts:5});function mx(){var H;const{user:e}=lt(),t=Pt(),[r,n]=b.useState({totalChats:0,totalQuizzes:0,averageScore:0,weakAreas:[]}),[s,i]=b.useState(!0),[a,l]=b.useState(""),[c,u]=b.useState(!1),[d,h]=b.useState([]),[f,y]=b.useState(!1),[v,w]=b.useState(null),[j,p]=b.useState({title:"",subject:"",date:"",time:""}),[g,m]=b.useState(!1);b.useEffect(()=>{e?(S(),E()):(x(),i(!1))},[e]);const x=()=>{const k=new Date,_=new Date(k);_.setDate(_.getDate()-1);const N=new Date(k);N.setDate(N.getDate()+1);const A=[{id:"guest-1",title:"Try AI Chat",subject:"Getting Started",date:k.toISOString().split("T")[0],time:"10:00",completed:!1},{id:"guest-2",title:"Take Sample Quiz",subject:"Assessment",date:k.toISOString().split("T")[0],time:"14:00",completed:!1},{id:"guest-3",title:"Past Study Session",subject:"Mathematics",date:_.toISOString().split("T")[0],time:"09:00",completed:!1},{id:"guest-4",title:"Future Learning",subject:"Science",date:N.toISOString().split("T")[0],time:"16:00",completed:!1}];h(A)},S=async()=>{try{const{count:k}=await $.from("chat_sessions").select("*",{count:"exact",head:!0}).eq("user_id",e.id),{data:_}=await $.from("quiz_attempts").select("score").eq("user_id",e.id),{data:N}=await $.from("learning_progress").select("weak_areas").eq("user_id",e.id),A=_&&_.length>0?_.reduce((V,K)=>V+K.score,0)/_.length:0,U=(N==null?void 0:N.flatMap(V=>V.weak_areas||[]))||[],O=[...new Set(U)];n({totalChats:k||0,totalQuizzes:(_==null?void 0:_.length)||0,averageScore:Math.round(A),weakAreas:O.slice(0,3)})}catch(k){console.error("Error fetching dashboard stats:",k)}finally{i(!1)}},E=async()=>{if(e)try{m(!0);const _=(await An.fetchUpcomingScheduleItems(e,10)).map(N=>({id:N.id,title:N.title,subject:N.subject,date:N.date,time:N.time,completed:N.completed}));h(_)}catch(k){console.error("Error fetching study schedule:",k)}finally{m(!1)}},T=async k=>{if(k.preventDefault(),!(!a.trim()||c)){u(!0);try{if(e){const{data:_,error:N}=await $.from("chat_sessions").insert({user_id:e.id,title:a.length>50?a.substring(0,50)+"...":a}).select().single();if(N)throw N;await $.from("chat_messages").insert({session_id:_.id,role:"user",content:a}),t("/chat")}else t(`/chat?message=${encodeURIComponent(a)}`)}catch(_){console.error("Error creating chat session:",_)}finally{u(!1)}}},P=async()=>{if(!(!j.title||!j.subject||!j.date||!j.time))if(e)try{m(!0),await An.createScheduleItem(e,j),await E(),p({title:"",subject:"",date:"",time:""}),y(!1)}catch(k){console.error("Error creating schedule item:",k)}finally{m(!1)}else{const k={id:`guest-${Date.now()}`,...j,completed:!1};h([...d,k]),p({title:"",subject:"",date:"",time:""}),y(!1)}},W=async k=>{if(e)try{await An.toggleScheduleItemCompletion(e,k),await E()}catch(_){console.error("Error toggling schedule item:",_)}else h(_=>_.map(N=>N.id===k?{...N,completed:!N.completed}:N))},L=async k=>{if(e)try{m(!0),await An.deleteScheduleItem(e,k),await E()}catch(_){console.error("Error deleting schedule item:",_)}finally{m(!1)}else h(_=>_.filter(N=>N.id!==k))},oe=k=>{w(k.id),p({title:k.title,subject:k.subject,date:k.date,time:k.time}),y(!0)},me=async()=>{if(!(!v||!j.title||!j.subject||!j.date||!j.time))if(e)try{m(!0),await An.updateScheduleItem(e,v,j),await E(),p({title:"",subject:"",date:"",time:""}),y(!1),w(null)}catch(k){console.error("Error updating schedule item:",k)}finally{m(!1)}else h(k=>k.map(_=>_.id===v?{..._,...j}:_)),p({title:"",subject:"",date:"",time:""}),y(!1),w(null)},_e=()=>{y(!1),w(null),p({title:"",subject:"",date:"",time:""})},$e=k=>{const _=new Date,N=new Date(k);return _.setHours(0,0,0,0),N.setHours(0,0,0,0),N<_},I=Se.getUsageSummary();return e?o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Welcome back, ",((H=e==null?void 0:e.user_metadata)==null?void 0:H.full_name)||"Student","! "]}),o.jsx("p",{className:"text-gray-600",children:"Ready to continue your learning journey? Let's make today productive!"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsx("div",{className:"card",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:o.jsx(vs,{className:"w-6 h-6 text-blue-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Chats"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s?"...":r.totalChats})]})]})}),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:o.jsx(Jn,{className:"w-6 h-6 text-green-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Quizzes Taken"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s?"...":r.totalQuizzes})]})]})}),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:o.jsx(Wf,{className:"w-6 h-6 text-purple-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Score"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s?"...":`${r.averageScore}%`})]})]})}),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:o.jsx(wr,{className:"w-6 h-6 text-orange-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Focus Areas"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s?"...":r.weakAreas.length})]})]})})]}),o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"card bg-gradient-to-br from-primary-50 to-primary-100 border-primary-200",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-full flex items-center justify-center mr-3",children:o.jsx(Kn,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-primary-900",children:"AI Tutor Assistant"}),o.jsx("p",{className:"text-sm text-primary-700",children:"What would you like to learn about today?"})]})]}),o.jsxs("form",{onSubmit:T,className:"flex space-x-3",children:[o.jsx("input",{type:"text",value:a,onChange:k=>l(k.target.value),placeholder:"Ask me anything... e.g., 'Explain photosynthesis' or 'Help me with calculus'",className:"flex-1 px-4 py-3 border border-primary-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white",disabled:c}),o.jsxs("button",{type:"submit",disabled:!a.trim()||c,className:"px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[c?o.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):o.jsx(tl,{className:"w-4 h-4"}),o.jsx("span",{children:c?"Starting...":"Ask"})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[o.jsx(el,{className:"w-5 h-5 mr-2 text-primary-600"}),"My Study Schedule"]}),o.jsxs("button",{onClick:()=>y(!0),className:"btn-primary flex items-center space-x-2 text-sm",disabled:g,children:[o.jsx(xs,{className:"w-4 h-4"}),o.jsx("span",{children:"Add Lesson"})]})]}),f&&o.jsxs("div",{className:"card mb-4 bg-gray-50",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:v?"Edit Study Session":"Add New Study Session"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[o.jsx("input",{type:"text",placeholder:"Lesson title",value:j.title,onChange:k=>p({...j,title:k.target.value}),className:"input-field"}),o.jsx("input",{type:"text",placeholder:"Subject",value:j.subject,onChange:k=>p({...j,subject:k.target.value}),className:"input-field"}),o.jsx("input",{type:"date",value:j.date,onChange:k=>p({...j,date:k.target.value}),className:"input-field"}),o.jsx("input",{type:"time",value:j.time,onChange:k=>p({...j,time:k.target.value}),className:"input-field"})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{onClick:v?me:P,className:"btn-primary",disabled:g,children:g?"Saving...":v?"Update Session":"Add Session"}),o.jsx("button",{onClick:_e,className:"btn-secondary",children:"Cancel"})]})]}),o.jsx("div",{className:"card",children:g?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"w-8 h-8 border-2 border-primary-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading schedule..."})]}):d.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(el,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No study sessions scheduled"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first study session to start organizing your learning"}),o.jsx("button",{onClick:()=>y(!0),className:"btn-primary",children:"Add Study Session"})]}):o.jsx("div",{className:"space-y-3",children:d.map(k=>{const _=$e(k.date);return o.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border-2 transition-all duration-200 ${k.completed?"bg-green-50 border-green-200":_?"bg-red-50 border-red-200":"bg-white border-gray-200 hover:border-primary-200"}`,children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{onClick:()=>W(k.id),className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors duration-200 ${k.completed?"bg-green-500 border-green-500":_?"border-red-300 hover:border-red-500":"border-gray-300 hover:border-primary-500"}`,children:k.completed&&o.jsx(dn,{className:"w-4 h-4 text-white"})}),o.jsxs("div",{children:[o.jsx("h4",{className:`font-medium ${k.completed?"text-green-700 line-through":_?"text-red-700":"text-gray-900"}`,children:k.title}),o.jsxs("p",{className:`text-sm ${_&&!k.completed?"text-red-600":"text-gray-600"}`,children:[k.subject,"  ",new Date(k.date).toLocaleDateString()," at ",k.time,_&&!k.completed&&o.jsx("span",{className:"ml-2 text-red-500 font-medium",children:"(Past Due)"})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[k.completed&&o.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"Completed"}),e&&o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("button",{onClick:()=>oe(k),className:"p-1 text-gray-400 hover:text-primary-600 transition-colors",title:"Edit",children:o.jsx(Jf,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>L(k.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"Delete",children:o.jsx(Yf,{className:"w-4 h-4"})})]})]})]},k.id)})})})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Quick Actions"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs(ht,{to:"/chat",className:"card hover:shadow-md transition-all duration-200 group",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-500 hover:bg-blue-600 rounded-lg flex items-center justify-center mb-4 transition-colors duration-200",children:o.jsx(vs,{className:"w-6 h-6 text-white"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Continue Chat"}),o.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Resume your conversation with the AI tutor"}),o.jsxs("div",{className:"flex items-center text-primary-600 text-sm font-medium group-hover:text-primary-700",children:["Open chat",o.jsx(Ku,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform duration-200"})]})]}),o.jsxs(ht,{to:"/quiz",className:"card hover:shadow-md transition-all duration-200 group",children:[o.jsx("div",{className:"w-12 h-12 bg-green-500 hover:bg-green-600 rounded-lg flex items-center justify-center mb-4 transition-colors duration-200",children:o.jsx(Jn,{className:"w-6 h-6 text-white"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Take Quiz"}),o.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Test your knowledge and identify weak areas"}),o.jsxs("div",{className:"flex items-center text-primary-600 text-sm font-medium group-hover:text-primary-700",children:["Start quiz",o.jsx(Ku,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform duration-200"})]})]})]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Areas to Focus"}),s?o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})]}):r.weakAreas.length>0?o.jsx("div",{className:"space-y-2",children:r.weakAreas.map((k,_)=>o.jsxs("div",{className:"flex items-center justify-between p-2 bg-red-50 rounded-lg",children:[o.jsx("span",{className:"text-sm text-red-700",children:k}),o.jsx(wr,{className:"w-4 h-4 text-red-500"})]},_))}):o.jsx("p",{className:"text-gray-500 text-sm",children:"Take some quizzes to identify areas for improvement!"})]}),o.jsxs("div",{className:"card bg-gradient-to-br from-primary-50 to-primary-100 border-primary-200",children:[o.jsx("h3",{className:"text-lg font-semibold text-primary-900 mb-2",children:" Learning Tip"}),o.jsx("p",{className:"text-primary-700 text-sm",children:"Consistency is key! Try to stick to your study schedule and review your weak areas regularly for better retention."})]})]})]})]}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("div",{className:"bg-gradient-to-br from-primary-600 via-primary-700 to-primary-800 text-white",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 sm:py-24",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold mb-6",children:"Learn Smarter with AI"}),o.jsx("p",{className:"text-xl sm:text-2xl text-primary-100 mb-8 max-w-3xl mx-auto",children:"Personalized tutoring, interactive quizzes, and progress tracking - all powered by advanced AI technology"}),o.jsxs("div",{className:"max-w-2xl mx-auto mb-8",children:[o.jsxs("form",{onSubmit:T,className:"flex flex-col sm:flex-row gap-4",children:[o.jsx("input",{type:"text",value:a,onChange:k=>l(k.target.value),placeholder:"Try asking: 'Explain photosynthesis' or 'Help me with calculus'",className:"flex-1 px-6 py-4 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50",disabled:c}),o.jsx("button",{type:"submit",disabled:!a.trim()||c,className:"px-8 py-4 bg-white text-primary-600 font-semibold rounded-lg hover:bg-gray-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:c?o.jsx("div",{className:"w-5 h-5 border-2 border-primary-600 border-t-transparent rounded-full animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx(tl,{className:"w-5 h-5"}),o.jsx("span",{children:"Ask AI Tutor"})]})})]}),o.jsxs("p",{className:"text-primary-200 text-sm mt-3",children:["Get ",I.chats.remaining," free chat requests  No signup required"]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsxs(ht,{to:"/quiz",className:"px-8 py-4 bg-primary-500 hover:bg-primary-400 text-white font-semibold rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2",children:[o.jsx(Jn,{className:"w-5 h-5"}),o.jsx("span",{children:"Try Free Quiz"})]}),o.jsxs(ht,{to:"/auth",className:"px-8 py-4 bg-white bg-opacity-20 hover:bg-opacity-30 text-white font-semibold rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2 border border-white border-opacity-30",children:[o.jsx(tr,{className:"w-5 h-5"}),o.jsx("span",{children:"Login for Full Access"})]})]})]})})}),o.jsx("div",{className:"py-16 sm:py-24",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:"Why Choose TutorAI?"}),o.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Experience the future of personalized learning with our AI-powered platform"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"text-center p-6",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Kn,{className:"w-8 h-8 text-blue-600"})}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"AI-Powered Tutoring"}),o.jsx("p",{className:"text-gray-600",children:"Get instant, personalized explanations and guidance from our advanced AI tutor"})]}),o.jsxs("div",{className:"text-center p-6",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(wr,{className:"w-8 h-8 text-green-600"})}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Personalized Learning"}),o.jsx("p",{className:"text-gray-600",children:"Adaptive quizzes and content tailored to your learning style and progress"})]}),o.jsxs("div",{className:"text-center p-6",children:[o.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(ha,{className:"w-8 h-8 text-purple-600"})}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Progress Tracking"}),o.jsx("p",{className:"text-gray-600",children:"Monitor your learning journey with detailed analytics and insights"})]}),o.jsxs("div",{className:"text-center p-6",children:[o.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(hx,{className:"w-8 h-8 text-yellow-600"})}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Instant Feedback"}),o.jsx("p",{className:"text-gray-600",children:"Get immediate responses and corrections to accelerate your learning"})]}),o.jsxs("div",{className:"text-center p-6",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(ux,{className:"w-8 h-8 text-red-600"})}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Safe & Secure"}),o.jsx("p",{className:"text-gray-600",children:"Your data and privacy are protected with enterprise-grade security"})]}),o.jsxs("div",{className:"text-center p-6",children:[o.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(dx,{className:"w-8 h-8 text-indigo-600"})}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Community Support"}),o.jsx("p",{className:"text-gray-600",children:"Join thousands of learners in our supportive educational community"})]})]})]})}),o.jsx("div",{className:"bg-gray-900 text-white py-16",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[o.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-4",children:"Ready to Transform Your Learning?"}),o.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"Join thousands of students who are already learning smarter with TutorAI"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsxs(ht,{to:"/auth",className:"px-8 py-4 bg-primary-600 hover:bg-primary-700 text-white font-semibold rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2",children:[o.jsx(cc,{className:"w-5 h-5"}),o.jsx("span",{children:"Get Started Free"})]}),o.jsx("button",{onClick:()=>{const k=document.querySelector(".hero-section");k==null||k.scrollIntoView({behavior:"smooth"})},className:"px-8 py-4 bg-transparent border-2 border-white hover:bg-white hover:text-gray-900 text-white font-semibold rounded-lg transition-colors duration-200",children:"Try Demo"})]})]})})]})}function uc({isOpen:e,onClose:t,limitType:r,title:n,message:s}){const i=Pt();if(!e)return null;const a=()=>{t(),i("/auth")},l=()=>{const d=Se.getUsageSummary();switch(r){case"chat":return{title:"Chat Limit Reached",message:`You've used all ${d.chats.total} free chat messages. Login to get unlimited access to our AI tutor!`,icon:o.jsx(ft,{className:"w-12 h-12 text-primary-500"})};case"quiz":return{title:"Quiz Generation Limit Reached",message:`You've generated ${d.quizzes.total} free quizzes. Login to create unlimited custom quizzes!`,icon:o.jsx(ft,{className:"w-12 h-12 text-primary-500"})};case"quizAttempt":return{title:"Quiz Attempt Limit Reached",message:`You've taken ${d.quizAttempts.total} free quiz attempts. Login to take unlimited quizzes!`,icon:o.jsx(ft,{className:"w-12 h-12 text-primary-500"})};case"results":return{title:"Detailed Results Locked",message:"Login to view detailed quiz analysis, track your progress, and access personalized learning insights!",icon:o.jsx(ft,{className:"w-12 h-12 text-primary-500"})};default:return{title:"Feature Locked",message:"Login to access this feature and unlock the full TutorAI experience!",icon:o.jsx(ft,{className:"w-12 h-12 text-primary-500"})}}},c=Se.getUsageSummary(),u={title:n||l().title,message:s||l().message,icon:l().icon};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6 relative",children:[o.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(wn,{className:"w-5 h-5"})}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"mb-4",children:u.icon}),o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:u.title}),o.jsx("p",{className:"text-gray-600 mb-6",children:u.message}),r!=="results"&&o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Your Usage"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Chat Messages:"}),o.jsxs("span",{className:"font-medium",children:[c.chats.used,"/",c.chats.total]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Quiz Generation:"}),o.jsxs("span",{className:"font-medium",children:[c.quizzes.used,"/",c.quizzes.total]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Quiz Attempts:"}),o.jsxs("span",{className:"font-medium",children:[c.quizAttempts.used,"/",c.quizAttempts.total]})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{onClick:a,className:"w-full bg-primary-600 hover:bg-primary-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2",children:[o.jsx(tr,{className:"w-5 h-5"}),o.jsx("span",{children:"Login for Unlimited Access"})]}),o.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-500",children:[o.jsx(cc,{className:"w-4 h-4 text-yellow-500"}),o.jsx("span",{children:"Free account  No credit card required"})]}),o.jsx("button",{onClick:t,className:"w-full text-gray-600 hover:text-gray-800 font-medium py-2 transition-colors duration-200",children:"Continue as Guest"})]})]})]})})}function px(){const{user:e}=lt(),t=Tt(),r=Pt(),[n,s]=b.useState([]),[i,a]=b.useState(null),[l,c]=b.useState([]),[u,d]=b.useState(""),[h,f]=b.useState(!1),[y,v]=b.useState(!0),[w,j]=b.useState(!1),[p,g]=b.useState([]),[m,x]=b.useState(!1),S=b.useRef(null);b.useEffect(()=>{const _=new URLSearchParams(t.search).get("message");if(_&&!e&&(d(_),r("/chat",{replace:!0})),e)T();else{const N=localStorage.getItem("guestMessages");N&&g(JSON.parse(N)),v(!1)}},[e,t.search,r]),b.useEffect(()=>{i&&P(i.id)},[i]),b.useEffect(()=>{E()},[l,p]);const E=()=>{var k;(k=S.current)==null||k.scrollIntoView({behavior:"smooth"})},T=async()=>{try{const{data:k,error:_}=await $.from("chat_sessions").select("*").eq("user_id",e.id).order("updated_at",{ascending:!1});if(_)throw _;s(k||[]),k&&k.length>0&&a(k[0])}catch(k){console.error("Error fetching sessions:",k)}finally{v(!1)}},P=async k=>{try{const{data:_,error:N}=await $.from("chat_messages").select("*").eq("session_id",k).order("created_at",{ascending:!0});if(N)throw N;c(_||[])}catch(_){console.error("Error fetching messages:",_)}},W=async()=>{if(e)try{const{data:k,error:_}=await $.from("chat_sessions").insert({user_id:e.id,title:"New Chat Session"}).select().single();if(_)throw _;const N=k;s([N,...n]),a(N),c([]),j(!1)}catch(k){console.error("Error creating session:",k)}},L=async k=>{if(e)try{await $.from("chat_messages").delete().eq("session_id",k),await $.from("chat_sessions").delete().eq("id",k);const _=n.filter(N=>N.id!==k);s(_),(i==null?void 0:i.id)===k&&(a(_[0]||null),c([]))}catch(_){console.error("Error deleting session:",_)}},oe=async()=>{if(!u.trim()||h)return;if(!e&&!Se.canPerformAction("chat")){x(!0);return}const k=u.trim();d(""),f(!0);try{if(e&&i){const _={id:Date.now().toString(),role:"user",content:k,created_at:new Date().toISOString()};c(U=>[...U,_]),await $.from("chat_messages").insert({session_id:i.id,role:"user",content:k});const N=await me(k),A={id:(Date.now()+1).toString(),role:"assistant",content:N,created_at:new Date().toISOString()};if(c(U=>[...U,A]),await $.from("chat_messages").insert({session_id:i.id,role:"assistant",content:N}),l.length===0){const U=k.length>50?k.substring(0,50)+"...":k;await $.from("chat_sessions").update({title:U}).eq("id",i.id),s(O=>O.map(V=>V.id===i.id?{...V,title:U}:V))}}else{const _={id:Date.now().toString(),role:"user",content:k,created_at:new Date().toISOString()},N=[...p,_];g(N);const A=await me(k),U={id:(Date.now()+1).toString(),role:"assistant",content:A,created_at:new Date().toISOString()},O=[...N,U];g(O),Se.incrementUsage("chat"),localStorage.setItem("guestMessages",JSON.stringify(O))}}catch(_){console.error("Error sending message:",_)}finally{f(!1)}},me=async k=>{await new Promise(N=>setTimeout(N,1e3));const _=[`Great question! Let me help you understand this concept better. ${k.toLowerCase().includes("math")?"Mathematics is all about patterns and logical thinking.":"This is an interesting topic to explore."}`,"I'd be happy to explain that! Let's break this down step by step to make it easier to understand.","That's a thoughtful question. Here's how I would approach this problem...","Excellent! This is a fundamental concept. Let me provide you with a clear explanation and some examples.","I can see you're thinking deeply about this. Let me guide you through the solution process."];return _[Math.floor(Math.random()*_.length)]},_e=k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),oe())},$e=e?l:p,I=e||Se.canPerformAction("chat"),H=Se.getUsageSummary();return y?o.jsx("div",{className:"flex items-center justify-center h-96",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-8 h-8 border-2 border-primary-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading chat..."})]})}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:o.jsxs("div",{className:"flex h-[calc(100vh-8rem)] sm:h-[calc(100vh-12rem)] bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e&&o.jsxs("div",{className:`${w?"translate-x-0":"-translate-x-full"} lg:translate-x-0 fixed lg:relative inset-y-0 left-0 z-50 w-80 bg-white border-r border-gray-200 flex flex-col transition-transform duration-300 ease-in-out lg:transition-none`,children:[o.jsxs("div",{className:"p-4 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Chats"}),o.jsx("button",{onClick:()=>j(!1),className:"lg:hidden p-1 hover:bg-gray-100 rounded",children:o.jsx(wn,{className:"w-5 h-5"})})]}),o.jsxs("button",{onClick:W,className:"w-full btn-primary flex items-center justify-center space-x-2",children:[o.jsx(xs,{className:"w-4 h-4"}),o.jsx("span",{children:"New Chat"})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:n.length===0?o.jsxs("div",{className:"p-4 text-center text-gray-500",children:[o.jsx(vs,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),o.jsx("p",{className:"text-sm",children:"No chat sessions yet"})]}):o.jsx("div",{className:"p-2",children:n.map(k=>o.jsxs("div",{className:`group flex items-center justify-between p-3 rounded-lg cursor-pointer transition-colors duration-200 ${(i==null?void 0:i.id)===k.id?"bg-primary-50 text-primary-700":"hover:bg-gray-50"}`,onClick:()=>{a(k),j(!1)},children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium truncate",children:k.title}),o.jsx("p",{className:"text-xs text-gray-500",children:new Date(k.created_at).toLocaleDateString()})]}),o.jsx("button",{onClick:_=>{_.stopPropagation(),L(k.id)},className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-red-100 rounded transition-all duration-200",children:o.jsx(Yf,{className:"w-4 h-4 text-red-500"})})]},k.id))})})]}),w&&o.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>j(!1)}),o.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[o.jsx("div",{className:"p-4 border-b border-gray-200 bg-white",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"font-semibold text-gray-900 truncate pl-12 lg:pl-0",children:e?(i==null?void 0:i.title)||"AI Tutor Chat":"AI Tutor Chat (Guest Mode)"}),!e&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:"text-sm text-gray-600",children:[H.chats.remaining,"/",H.chats.total," free chats left"]}),o.jsxs("button",{onClick:()=>r("/auth"),className:"btn-primary text-sm flex items-center space-x-1",children:[o.jsx(tr,{className:"w-4 h-4"}),o.jsx("span",{children:"Login"})]})]})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[$e.length===0?o.jsxs("div",{className:"text-center py-8 sm:py-12",children:[o.jsx(Kn,{className:"w-8 h-8 sm:w-12 sm:h-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:e?"Start a conversation":"Welcome to TutorAI!"}),o.jsx("p",{className:"text-gray-600",children:e?"Ask me anything! I'm here to help you learn.":`You have ${H.chats.remaining} free chat${H.chats.remaining!==1?"s":""} remaining. Login for unlimited access!`})]}):$e.map(k=>o.jsx("div",{className:`flex ${k.role==="user"?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`flex max-w-[85%] sm:max-w-3xl ${k.role==="user"?"flex-row-reverse":"flex-row"}`,children:[o.jsx("div",{className:`flex-shrink-0 ${k.role==="user"?"ml-2 sm:ml-3":"mr-2 sm:mr-3"}`,children:o.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center ${k.role==="user"?"bg-primary-600":"bg-gray-200"}`,children:k.role==="user"?o.jsx(tn,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"}):o.jsx(Kn,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-600"})})}),o.jsx("div",{className:`px-3 py-2 sm:px-4 sm:py-2 rounded-lg ${k.role==="user"?"bg-primary-600 text-white":"bg-gray-100 text-gray-900"}`,children:o.jsx("p",{className:"whitespace-pre-wrap text-sm sm:text-base",children:k.content})})]})},k.id)),h&&o.jsx("div",{className:"flex justify-start",children:o.jsxs("div",{className:"flex max-w-3xl",children:[o.jsx("div",{className:"flex-shrink-0 mr-2 sm:mr-3",children:o.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-gray-200 flex items-center justify-center",children:o.jsx(Kn,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-600"})})}),o.jsx("div",{className:"px-3 py-2 sm:px-4 sm:py-2 rounded-lg bg-gray-100",children:o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),o.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),o.jsx("div",{ref:S})]}),o.jsx("div",{className:"border-t border-gray-200 p-4",children:I?o.jsxs("div",{className:"flex space-x-2 sm:space-x-4",children:[o.jsx("textarea",{value:u,onChange:k=>d(k.target.value),onKeyPress:_e,placeholder:"Ask me anything...",className:"flex-1 resize-none input-field text-sm sm:text-base",rows:1,disabled:h}),o.jsx("button",{onClick:oe,disabled:!u.trim()||h,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed px-3 sm:px-4",children:o.jsx(tl,{className:"w-4 h-4"})})]}):o.jsxs("div",{className:"text-center py-4",children:[o.jsxs("p",{className:"text-gray-600 mb-4",children:["You've used all ",H.chats.total," free chats. Login to continue chatting!"]}),o.jsxs("button",{onClick:()=>r("/auth"),className:"btn-primary flex items-center justify-center space-x-2 mx-auto",children:[o.jsx(tr,{className:"w-4 h-4"}),o.jsx("span",{children:"Login for Unlimited Access"})]})]})})]})]})}),o.jsx(uc,{isOpen:m,onClose:()=>x(!1),limitType:"chat"})]})}const gx=({title:e,current:t,total:r,progress:n,onExit:s})=>o.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 truncate",children:e}),o.jsxs("p",{className:"text-sm sm:text-base text-gray-600",children:["Question ",t," of ",r]})]}),o.jsxs("button",{onClick:s,className:"btn-secondary text-sm px-3 py-2 sm:px-4 sm:py-2",children:[o.jsx("span",{className:"hidden sm:inline",children:"Exit Quiz"}),o.jsx(wn,{className:"w-4 h-4 sm:hidden"})]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${n}%`}})})]}),yx=({question:e,renderInput:t})=>o.jsxs("div",{className:"mb-6 sm:mb-8",children:[o.jsx("div",{className:"flex items-start space-x-3 mb-4",children:o.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${e.type==="single"?"bg-blue-100 text-blue-700":e.type==="multiple"?"bg-green-100 text-green-700":e.type==="true_false"?"bg-purple-100 text-purple-700":"bg-orange-100 text-orange-700"}`,children:e.type==="single"?"Single Choice":e.type==="multiple"?"Multiple Choice":e.type==="true_false"?"True/False":"Open Answer"})}),o.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-6",children:e.question}),t(e)]}),vx=({quizzes:e,onStart:t,getDifficultyColor:r})=>o.jsx("div",{className:"space-y-4",children:e.map(n=>o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6 hover:shadow-md transition-shadow duration-200",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-4 sm:space-y-0",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1 truncate",children:n.title}),o.jsx("p",{className:"text-gray-600 mb-2",children:n.topic}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 text-sm text-gray-500",children:[o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${r(n.difficulty)}`,children:n.difficulty}),o.jsxs("span",{className:"flex items-center",children:[o.jsx(nx,{className:"w-4 h-4 mr-1"}),n.questions.length," questions"]})]})]}),o.jsxs("button",{onClick:()=>t(n),className:"btn-primary flex items-center justify-center space-x-2 w-full sm:w-auto",children:[o.jsx(ax,{className:"w-4 h-4"}),o.jsx("span",{children:"Start"})]})]})},n.id))}),xx=({topic:e,difficulty:t,loading:r,onTopicChange:n,onDifficultyChange:s,onGenerate:i,onCancel:a,settings:l,onSettingsChange:c})=>{const[u,d]=Yn.useState(!1),h=y=>{l&&c&&c({...l,...y})},f=(y,v)=>{l&&c&&c({...l,questionTypes:{...l.questionTypes,[y]:v}})};return o.jsxs("div",{className:"bg-gradient-to-br from-primary-50 via-white to-primary-100 rounded-xl shadow-lg border border-primary-200 p-4 sm:p-6 mb-6 sm:mb-8 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-500/5 to-blue-500/5 pointer-events-none"}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-600 rounded-lg flex items-center justify-center mr-3",children:o.jsx(xs,{className:"w-5 h-5 text-white"})}),o.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Generate New Quiz"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Topic"}),o.jsx("input",{type:"text",value:e,onChange:y=>n(y.target.value),placeholder:"e.g., Mathematics, Physics, History",className:"input-field bg-white/80 backdrop-blur-sm border-primary-200 focus:border-primary-400 focus:ring-primary-200"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty"}),o.jsxs("div",{className:"relative",children:[o.jsxs("select",{value:t,onChange:y=>s(y.target.value),className:"input-field appearance-none pr-10 bg-white/80 backdrop-blur-sm border-primary-200 focus:border-primary-400 focus:ring-primary-200",children:[o.jsx("option",{value:"easy",children:"Easy"}),o.jsx("option",{value:"medium",children:"Medium"}),o.jsx("option",{value:"hard",children:"Hard"})]}),o.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:o.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),l&&c&&o.jsxs("div",{children:[o.jsxs("button",{type:"button",onClick:()=>d(!u),className:"flex items-center text-sm text-primary-600 hover:text-primary-700 font-medium mb-3",children:[o.jsx(cx,{className:"w-4 h-4 mr-1"}),"Advanced Settings",o.jsx("svg",{className:`w-4 h-4 ml-1 transition-transform ${u?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),u&&o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg p-4 border border-primary-200 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Questions"}),o.jsx("input",{type:"number",min:"3",max:"15",value:l.numberOfQuestions,onChange:y=>h({numberOfQuestions:parseInt(y.target.value)||5}),className:"input-field bg-white border-gray-300"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Choices per Question"}),o.jsx("input",{type:"number",min:"2",max:"6",value:l.numberOfChoices,onChange:y=>h({numberOfChoices:parseInt(y.target.value)||4}),className:"input-field bg-white border-gray-300"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Question Types"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:l.questionTypes.multipleChoice,onChange:y=>f("multipleChoice",y.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),o.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Multiple Choice"})]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:l.questionTypes.trueFalse,onChange:y=>f("trueFalse",y.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),o.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"True/False"})]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:l.questionTypes.openEnded,onChange:y=>f("openEnded",y.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),o.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Open-Ended"})]})]})]})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4 pt-2",children:[o.jsx("button",{onClick:i,disabled:!e.trim()||r,className:"bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white font-medium py-2 px-4 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 shadow-lg",children:r?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),o.jsx("span",{children:"Generating..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(xs,{className:"w-4 h-4"}),o.jsx("span",{children:"Generate Quiz"})]})}),o.jsx("button",{onClick:a,className:"bg-white/80 backdrop-blur-sm hover:bg-white text-gray-700 font-medium py-2 px-4 rounded-lg border border-gray-300 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",children:"Cancel"})]})]})]})]})},wx=({attempts:e,showSidebar:t,onClose:r})=>o.jsxs("div",{className:`lg:w-80 ${t?"block":"hidden lg:block"}`,children:[t&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:r}),o.jsxs("div",{className:`${t?"fixed right-0 top-0 h-full w-80 bg-white z-50 p-4 overflow-y-auto lg:relative lg:z-auto lg:p-0 lg:bg-transparent":""}`,children:[t&&o.jsxs("div",{className:"flex justify-between items-center mb-4 lg:hidden",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Recent Attempts"}),o.jsx("button",{onClick:r,children:o.jsx(wn,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[o.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 hidden lg:block",children:"Recent Attempts"}),e.length===0?o.jsxs("div",{className:"text-center py-6 sm:py-8",children:[o.jsx(wr,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400 mx-auto mb-2"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"No attempts yet"})]}):o.jsx("div",{className:"space-y-3",children:e.map(n=>o.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 sm:p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h4",{className:"font-medium text-gray-900 text-sm truncate flex-1 mr-2",children:n.quiz.title}),o.jsxs("div",{className:`flex items-center ${n.score>=80?"text-green-600":n.score>=60?"text-yellow-600":"text-red-600"}`,children:[n.score>=80?o.jsx(dn,{className:"w-4 h-4 mr-1"}):o.jsx(Fi,{className:"w-4 h-4 mr-1"}),o.jsxs("span",{className:"text-sm font-medium",children:[n.score,"%"]})]})]}),o.jsx("p",{className:"text-xs text-gray-500",children:new Date(n.completed_at).toLocaleDateString()})]},n.id))})]})]})]});class Va{static getApiUrl(){return"https://yimvtcivvfvygkzqaurl.supabase.co/functions/v1/generate-questions"}static async getAuthHeaders(){const{data:{session:t}}=await $.auth.getSession();return{"Content-Type":"application/json",Authorization:`Bearer ${(t==null?void 0:t.access_token)||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlpbXZ0Y2l2dmZ2eWdrenFhdXJsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk3ODU4MzIsImV4cCI6MjA2NTM2MTgzMn0.NKBx3sBG1D-47J77I2Dg50-KtFQ9naQWsC8LBZnvTXo"}`}}static async generateQuestions(t){try{const r=this.getApiUrl(),n=await this.getAuthHeaders(),s=await fetch(r,{method:"POST",headers:n,body:JSON.stringify(t)});if(!s.ok){let a=`HTTP ${s.status}: ${s.statusText}`;try{a=(await s.json()).error||a}catch{try{const l=await s.text();l&&(a=l)}catch{}}throw new Error(a)}const i=await s.json();if(!i.questions||!Array.isArray(i.questions))throw new Error("Invalid response format: missing questions array");return i}catch(r){throw console.error("Error generating questions:",r),r instanceof Error?r:new Error("Failed to generate quiz questions")}}static convertToQuizFormat(t){return t}static async getUserWeakAreas(t,r){try{let n=$.from("learning_progress").select("weak_areas").eq("user_id",t);r&&(n=n.eq("topic",r));const{data:s,error:i}=await n;if(i)return console.error("Error fetching weak areas:",i),[];const a=(s==null?void 0:s.flatMap(l=>l.weak_areas||[]))||[];return[...new Set(a)]}catch(n){return console.error("Error getting user weak areas:",n),[]}}}class Zs{static async fetchQuizzes(t){try{const{data:r,error:n}=await $.from("quizzes").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(n)throw n;return r||[]}catch(r){throw console.error("Error fetching quizzes:",r),r}}static async fetchAttempts(t){try{const{data:r,error:n}=await $.from("quiz_attempts").select(`
          *,
          quiz:quizzes(title, topic)
        `).eq("user_id",t.id).order("completed_at",{ascending:!1}).limit(5);if(n)throw n;return r||[]}catch(r){throw console.error("Error fetching attempts:",r),r}}static async fetchWeakAreasCount(t){try{const{data:r,error:n}=await $.from("learning_progress").select("weak_areas").eq("user_id",t.id);if(n)throw n;const s=(r==null?void 0:r.flatMap(a=>a.weak_areas||[]))||[];return[...new Set(s)].length}catch(r){throw console.error("Error fetching weak areas count:",r),r}}static async saveQuizAttempt(t,r,n,s){try{const{error:i}=await $.from("quiz_attempts").insert({quiz_id:t,user_id:r,answers:n,score:s});if(i)throw i}catch(i){throw console.error("Error saving quiz attempt:",i),i}}static async saveQuiz(t,r,n,s,i){try{const{data:a,error:l}=await $.from("quizzes").insert({user_id:t,title:r,topic:n,difficulty:s,questions:i}).select().single();if(l)throw l;return a}catch(a){throw console.error("Error saving quiz:",a),a}}}class Xf{static getApiUrl(){return"https://yimvtcivvfvygkzqaurl.supabase.co/functions/v1/grading-open-ended"}static async getAuthHeaders(){const{data:{session:t}}=await $.auth.getSession();return{"Content-Type":"application/json",Authorization:`Bearer ${(t==null?void 0:t.access_token)||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlpbXZ0Y2l2dmZ2eWdrenFhdXJsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk3ODU4MzIsImV4cCI6MjA2NTM2MTgzMn0.NKBx3sBG1D-47J77I2Dg50-KtFQ9naQWsC8LBZnvTXo"}`}}static async gradeOpenEndedQuestions(t){if(!Array.isArray(t)||t.length===0)throw new Error("Input must be a non-empty array of questions");const r=this.getApiUrl(),n=await this.getAuthHeaders(),s=await fetch(r,{method:"POST",headers:n,body:JSON.stringify(t)});if(!s.ok){let a=`HTTP ${s.status}: ${s.statusText}`;try{a=(await s.json()).error||a}catch{try{const l=await s.text();l&&(a=l)}catch{}}throw new Error(a)}const i=await s.json();if(!i.graded||!Array.isArray(i.graded))throw new Error("Invalid response format: missing graded array");return i}static extractWeakAreasFromGrading(t){const r=[];return t.forEach(n=>{(n.grade==="incorrect"||n.grade==="partial")&&n.weakAreas&&n.weakAreas.length>0&&r.push(...n.weakAreas)}),[...new Set(r)]}static extractImprovements(t){const r=[];return t.forEach(n=>{n.improvements&&n.improvements.length>0&&r.push(...n.improvements)}),[...new Set(r)]}}class dc{static async calculateScore(t,r){let n=0,s=t.questions.length,i=[];const a=[];for(let c=0;c<t.questions.length;c++){const u=t.questions[c],d=r[c],h=u.correct_answer;switch(u.type){case"multiple":const f=Array.isArray(d)?d.sort():[],y=Array.isArray(h)?h.sort():[];JSON.stringify(f)===JSON.stringify(y)&&n++;break;case"true_false":d===h&&n++;break;case"open_ended":a.push({question:u.question,answer:d,context:`Expected answer: ${h}`,questionIndex:c});break;case"single":default:let v=!1;if(Array.isArray(h))Array.isArray(d)&&d.length===1&&(v=h.includes(d[0]));else if(typeof h=="number")Array.isArray(d)&&d.length===1&&(v=d[0]===h);else if(typeof h=="string"&&u.options&&Array.isArray(d)&&d.length===1){const w=u.options.indexOf(h);v=d[0]===w}v&&n++;break}}if(a.length>0)try{const c=await Xf.gradeOpenEndedQuestions(a);i=c.graded;for(const u of c.graded)n+=u.score}catch(c){console.error("Error grading open-ended questions:",c),n+=a.length*.5}return{score:Math.round(n/s*100),gradingResults:i}}static isQuestionCorrect(t,r,n){const s=t.correct_answer;switch(t.type){case"multiple":const i=Array.isArray(r)?r.sort():[],a=Array.isArray(s)?s.sort():[];return JSON.stringify(i)===JSON.stringify(a);case"true_false":return r===s;case"open_ended":return!1;case"single":default:if(Array.isArray(s)){if(Array.isArray(r)&&r.length===1)return s.includes(r[0])}else if(typeof s=="number"){if(Array.isArray(r)&&r.length===1)return r[0]===s}else if(typeof s=="string"&&t.options&&Array.isArray(r)&&r.length===1){const l=t.options.indexOf(s);return r[0]===l}return!1}}static getAnswerFeedback(t,r,n){const s=this.isQuestionCorrect(t,r,n);let i=t.explanation,a=[],l=[],c;return{isCorrect:s,userAnswer:r,correctAnswer:t.correct_answer,explanation:i,improvements:a,weakAreas:l,score:c}}}class jx{static async updateLearningProgress(t,r,n,s,i){const a=[],l=[];for(let d=0;d<r.questions.length;d++){const h=r.questions[d],f=n[d],y=h.correct_answer;let v=!1,w;if(h.type==="open_ended"&&i){const m=r.questions.map((x,S)=>({question:x,index:S})).filter(x=>x.question.type==="open_ended").findIndex(x=>x.index===d);m>=0&&m<i.length&&(w=i[m])}switch(h.type){case"multiple":const g=Array.isArray(f)?f.sort():[],m=Array.isArray(y)?y.sort():[];v=JSON.stringify(g)===JSON.stringify(m);break;case"true_false":v=f===y;break;case"open_ended":w?v=w.grade==="correct":v=!1;break;case"single":default:if(Array.isArray(y))Array.isArray(f)&&f.length===1&&(v=y.includes(f[0]));else if(typeof y=="number")Array.isArray(f)&&f.length===1&&(v=f[0]===y);else if(typeof y=="string"&&h.options&&Array.isArray(f)&&f.length===1){const x=h.options.indexOf(y);v=f[0]===x}break}let j="";h.type==="open_ended"?j=typeof f=="string"?f:"":Array.isArray(f)?j=f.map(g=>h.options&&h.options[g]!==void 0?h.options[g]:g).join(", "):typeof f=="boolean"?j=f?"True":"False":typeof f=="number"&&h.options&&h.options[f]!==void 0?j=h.options[f]:j=String(f);let p=`${h.question}: ${j}`;h.type==="open_ended"&&w&&w.feedback&&(p+=`: ${w.feedback}`),v||w&&w.grade==="partial"?l.push(p):(a.push(p),w&&w.weakAreas&&w.weakAreas.length>0&&w.weakAreas.forEach(g=>{a.push(g)}))}if(i&&i.length>0){const d=Xf.extractWeakAreasFromGrading(i);a.push(...d)}const c=[...new Set(a.filter(d=>typeof d=="string"&&d.trim()!==""))],u=[...new Set(l.filter(d=>typeof d=="string"&&d.trim()!==""))];try{const{data:d}=await $.from("learning_progress").select("*").eq("user_id",t).eq("topic",r.topic).maybeSingle();if(d){const h=Array.isArray(d.weak_areas)?d.weak_areas.filter(x=>typeof x=="string"):[],f=Array.isArray(d.strengths)?d.strengths.filter(x=>typeof x=="string"):[],y=x=>{const S=x.indexOf(":");return S>0?x.substring(0,S).trim():x},v=u.map(y),w=h.filter(x=>!v.includes(y(x))),j=c.map(y),p=f.filter(x=>!j.includes(y(x))),g=[...new Set([...w,...c])].filter(x=>typeof x=="string"&&x.trim()!==""),m=[...new Set([...p,...u])].filter(x=>typeof x=="string"&&x.trim()!=="");await $.from("learning_progress").update({weak_areas:g,strengths:m,progress_score:s,last_updated:new Date().toISOString()}).eq("id",d.id)}else await $.from("learning_progress").insert({user_id:t,topic:r.topic,weak_areas:c,strengths:u,progress_score:s})}catch(d){throw console.error("Error updating learning progress:",d),d}}}function _x(){const{user:e}=lt(),t=Tt(),r=Pt(),[n,s]=b.useState([]),[i,a]=b.useState([]),[l,c]=b.useState(null),[u,d]=b.useState(0),[h,f]=b.useState([]),[y,v]=b.useState(!1),[w,j]=b.useState(!1),[p,g]=b.useState(""),[m,x]=b.useState("medium"),[S,E]=b.useState(!1),[T,P]=b.useState([]),[W,L]=b.useState(!1),[oe,me]=b.useState("quiz"),[_e,$e]=b.useState({numberOfQuestions:5,numberOfChoices:4,questionTypes:{multipleChoice:!0,trueFalse:!1,openEnded:!1}});b.useEffect(()=>{e?(k(),_()):I()},[e]);const I=()=>{try{const R=localStorage.getItem("guestQuizzes");if(R){const M=JSON.parse(R);P(M)}else P([])}catch(R){console.error("Error loading guest quizzes:",R),P([])}},H=R=>{try{localStorage.setItem("guestQuizzes",JSON.stringify(R))}catch(M){console.error("Error saving guest quizzes:",M)}};b.useEffect(()=>{var R;(R=t.state)!=null&&R.startQuiz&&(A(t.state.startQuiz),r(t.pathname,{replace:!0}))},[t.state,r]);const k=async()=>{if(e)try{const R=await Zs.fetchQuizzes(e);s(R)}catch(R){console.error("Error fetching quizzes:",R)}},_=async()=>{if(e)try{const R=await Zs.fetchAttempts(e);a(R)}catch(R){console.error("Error fetching attempts:",R)}},N=async()=>{if(p.trim()){if(!e&&!Se.canPerformAction("quiz")){me("quiz"),L(!0);return}v(!0);try{if(e){const R=await Va.getUserWeakAreas(e.id,p),M=await Va.generateQuestions({topic:p,difficulty:m,contexts:R.slice(0,3),settings:_e}),Ue=await Zs.saveQuiz(e.id,`${p} Quiz`,p,m,M.questions);s([Ue,...n])}else try{const R=await Va.generateQuestions({topic:p,difficulty:m,contexts:[],settings:_e}),Ue=[{id:`guest-${Date.now()}`,title:`${p} Quiz`,topic:p,difficulty:m,questions:R.questions,created_at:new Date().toISOString()},...T];P(Ue),H(Ue),Se.incrementUsage("quiz")}catch(R){console.error("Error generating quiz for guest, falling back to mock:",R)}j(!1),g("")}catch(R){console.error("Error generating quiz:",R)}finally{v(!1)}}},A=R=>{if(!e&&!Se.canPerformAction("quizAttempt")){me("quizAttempt"),L(!0);return}c(R),d(0);const M=R.questions.map(Ue=>{switch(Ue.type){case"open_ended":return"";case"true_false":return!1;default:return[]}});f(M),E(!1)},U=R=>{const M=[...h];M[u]=[R],f(M)},O=R=>{const M=[...h],Ue=Array.isArray(M[u])?M[u]:[];Ue.includes(R)?M[u]=Ue.filter(Ts=>Ts!==R):M[u]=[...Ue,R],f(M)},V=R=>{const M=[...h];M[u]=R,f(M)},K=R=>{const M=[...h];M[u]=R,f(M)},Tr=()=>{u<l.questions.length-1?d(u+1):We()},We=async()=>{if(l)try{const R=await dc.calculateScore(l,h);e?(await Zs.saveQuizAttempt(l.id,e.id,h,R.score),await jx.updateLearningProgress(e.id,l,h,R.score,R.gradingResults),_()):Se.incrementUsage("quizAttempt"),r("/quiz-results",{state:{quiz:l,selectedAnswers:h,score:R.score,gradingResults:R.gradingResults}})}catch(R){console.error("Error finishing quiz:",R)}},At=()=>{c(null),d(0),f([])},Cs=R=>{switch(R){case"easy":return"text-green-600 bg-green-100";case"medium":return"text-yellow-600 bg-yellow-100";case"hard":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},gt=()=>{const R=h[u];switch(l.questions[u].type){case"open_ended":return typeof R=="string"&&R.trim().length>0;case"true_false":return typeof R=="boolean";default:return Array.isArray(R)&&R.length>0}},Zf=R=>{var Ue,Ts;const M=h[u];switch(R.type){case"single":return o.jsx("div",{className:"space-y-3",children:(Ue=R.options)==null?void 0:Ue.map((cr,Te)=>o.jsx("button",{onClick:()=>U(Te),className:`w-full text-left p-4 rounded-lg border-2 transition-all duration-200 ${Array.isArray(M)&&M.includes(Te)?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`w-6 h-6 rounded-full border-2 mr-3 flex items-center justify-center ${Array.isArray(M)&&M.includes(Te)?"border-primary-500 bg-primary-500":"border-gray-300"}`,children:Array.isArray(M)&&M.includes(Te)&&o.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),o.jsx("span",{className:"text-gray-900",children:cr})]})},Te))});case"multiple":return o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select all that apply:"}),(Ts=R.options)==null?void 0:Ts.map((cr,Te)=>o.jsx("button",{onClick:()=>O(Te),className:`w-full text-left p-4 rounded-lg border-2 transition-all duration-200 ${Array.isArray(M)&&M.includes(Te)?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`w-6 h-6 rounded border-2 mr-3 flex items-center justify-center ${Array.isArray(M)&&M.includes(Te)?"border-primary-500 bg-primary-500":"border-gray-300"}`,children:Array.isArray(M)&&M.includes(Te)&&o.jsx(dn,{className:"w-4 h-4 text-white"})}),o.jsx("span",{className:"text-gray-900",children:cr})]})},Te))]});case"true_false":return o.jsx("div",{className:"space-y-3",children:["True","False"].map((cr,Te)=>{const Ps=Te===0;return o.jsx("button",{onClick:()=>V(Ps),className:`w-full text-left p-4 rounded-lg border-2 transition-all duration-200 ${M===Ps?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`w-6 h-6 rounded-full border-2 mr-3 flex items-center justify-center ${M===Ps?"border-primary-500 bg-primary-500":"border-gray-300"}`,children:M===Ps&&o.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),o.jsx("span",{className:"text-gray-900",children:cr})]})},Te)})});case"open_ended":return o.jsxs("div",{children:[o.jsx("textarea",{value:typeof M=="string"?M:"",onChange:cr=>K(cr.target.value),placeholder:"Type your answer here...",className:"w-full h-32 p-4 border-2 border-gray-200 rounded-lg focus:border-primary-500 focus:outline-none resize-none"}),o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Provide a detailed explanation in your own words."})]});default:return null}},fc=e?n:T,mc=Se.getUsageSummary(),lr=e||Se.canPerformAction("quiz");if(l){const R=l.questions[u],M=(u+1)/l.questions.length*100;return o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[o.jsx(gx,{title:l.title,current:u+1,total:l.questions.length,progress:M,onExit:At}),o.jsxs("div",{className:"p-4 sm:p-6",children:[o.jsx(yx,{question:R,renderInput:Zf}),o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between space-y-3 sm:space-y-0 sm:space-x-4",children:[o.jsx("button",{onClick:()=>d(Math.max(0,u-1)),disabled:u===0,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed order-2 sm:order-1",children:"Previous"}),o.jsx("button",{onClick:Tr,disabled:!gt(),className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed order-1 sm:order-2",children:u===l.questions.length-1?"Finish":"Next"})]})]})]})})})}return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6 sm:mb-8 space-y-4 sm:space-y-0",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Quizzes"}),o.jsx("p",{className:"text-gray-600",children:e?"Test your knowledge and track your progress":"Test your knowledge - Login for detailed analysis"}),!e&&o.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:["Quiz generation: ",mc.quizzes.remaining,"/",mc.quizzes.total," remaining"]})]}),o.jsxs("div",{className:"flex space-x-3",children:[!e&&o.jsxs("button",{onClick:()=>r("/auth"),className:"btn-secondary flex items-center space-x-2",children:[o.jsx(tr,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Login"})]}),o.jsx("button",{onClick:()=>E(!S),className:"btn-secondary lg:hidden",children:o.jsx(Kf,{className:"w-4 h-4"})}),o.jsxs("button",{onClick:()=>lr?j(!0):L(!0),className:`btn-primary flex items-center space-x-2 ${lr?"":"opacity-75"}`,children:[!lr&&o.jsx(ft,{className:"w-4 h-4"}),o.jsx(xs,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Generate Quiz"}),o.jsx("span",{className:"sm:hidden",children:"New"})]})]})]}),!e&&!lr&&o.jsxs("div",{className:"mb-6 p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-orange-700",children:[o.jsx(ft,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:"Quiz Generation Limit Reached"})]}),o.jsx("p",{className:"text-orange-600 text-sm mt-2",children:"You've used your free quiz generation. Login to create unlimited quizzes and access detailed analytics!"}),o.jsx("button",{onClick:()=>r("/auth"),className:"mt-3 btn-primary text-sm",children:"Login for Unlimited Access"})]}),w&&o.jsx(xx,{topic:p,difficulty:m,loading:y,onTopicChange:g,onDifficultyChange:x,onGenerate:N,onCancel:()=>{j(!1),g(""),x("medium")},settings:_e,onSettingsChange:$e}),o.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 sm:gap-8",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4",children:"Available Quizzes"}),fc.length===0?o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 sm:p-12 text-center",children:[o.jsx(oc,{className:"w-8 h-8 sm:w-12 sm:h-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:!e&&!lr?"Quiz Limit Reached":"No quizzes yet"}),o.jsx("p",{className:"text-gray-600 mb-4",children:!e&&!lr?"You've used your free quiz generation. Login for unlimited access!":"Generate your first quiz to start testing your knowledge"}),lr?o.jsx("button",{onClick:()=>j(!0),className:"btn-primary",children:"Generate Quiz"}):o.jsx("button",{onClick:()=>r("/auth"),className:"btn-primary",children:"Login for Unlimited Quizzes"})]}):o.jsx(vx,{quizzes:fc,onStart:A,getDifficultyColor:Cs})]}),e&&o.jsx(wx,{attempts:i,showSidebar:S,onClose:()=>E(!1)})]})]}),o.jsx(uc,{isOpen:W,onClose:()=>L(!1),limitType:oe})]})}const kx=e=>e>=90?"text-green-600":e>=80?"text-blue-600":e>=60?"text-yellow-600":"text-red-600",bx=e=>e>=90?"bg-green-50 border-green-200":e>=80?"bg-blue-50 border-blue-200":e>=60?"bg-yellow-50 border-yellow-200":"bg-red-50 border-red-200";function Sx({actualScore:e,correctCount:t,totalQuestions:r,showAnswers:n,setShowAnswers:s,retakeQuiz:i,partialCount:a=0}){const{user:l}=lt(),c=r-t-a;return o.jsx("div",{className:`card mb-6 sm:mb-8 ${bx(e)}`,children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx(rl,{className:`w-12 h-12 sm:w-16 sm:h-16 ${e>=90?"text-yellow-500":e>=80?"text-blue-500":e>=60?"text-yellow-600":"text-red-500"}`})}),o.jsxs("div",{className:`text-4xl sm:text-5xl font-bold mb-2 ${kx(e)}`,children:[e,"%"]}),o.jsx("p",{className:"text-lg text-gray-700 mb-4",children:a>0?o.jsxs(o.Fragment,{children:[t," correct, ",a," partial credit, ",c," incorrect out of ",r," questions"]}):o.jsxs(o.Fragment,{children:[t," out of ",r," questions correct"]})}),o.jsxs("div",{className:`grid ${a>0?"grid-cols-1 sm:grid-cols-4":"grid-cols-1 sm:grid-cols-3"} gap-4 mb-6`,children:[o.jsxs("div",{className:"text-center p-3 bg-white rounded-lg",children:[o.jsx(dn,{className:"w-6 h-6 text-green-500 mx-auto mb-1"}),o.jsx("div",{className:"text-lg font-bold text-green-600",children:t}),o.jsx("div",{className:"text-sm text-gray-600",children:"Correct"})]}),a>0&&o.jsxs("div",{className:"text-center p-3 bg-white rounded-lg",children:[o.jsx(Qf,{className:"w-6 h-6 text-yellow-500 mx-auto mb-1"}),o.jsx("div",{className:"text-lg font-bold text-yellow-600",children:a}),o.jsx("div",{className:"text-sm text-gray-600",children:"Partial Credit"})]}),o.jsxs("div",{className:"text-center p-3 bg-white rounded-lg",children:[o.jsx(Fi,{className:"w-6 h-6 text-red-500 mx-auto mb-1"}),o.jsx("div",{className:"text-lg font-bold text-red-600",children:c}),o.jsx("div",{className:"text-sm text-gray-600",children:"Incorrect"})]}),o.jsxs("div",{className:"text-center p-3 bg-white rounded-lg",children:[o.jsx(cc,{className:"w-6 h-6 text-primary-500 mx-auto mb-1"}),o.jsxs("div",{className:"text-lg font-bold text-primary-600",children:[e,"%"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Score"})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row justify-center space-y-3 sm:space-y-0 sm:space-x-4",children:[o.jsxs("button",{onClick:()=>s(!n),className:`btn-primary flex items-center justify-center space-x-2 ${l?"":"opacity-75"}`,children:[!l&&o.jsx(ft,{className:"w-4 h-4"}),n?o.jsx(Hf,{className:"w-4 h-4"}):o.jsx(Vf,{className:"w-4 h-4"}),o.jsxs("span",{children:[n?"Hide":"Show"," ",l?"Answers":"Detailed Results"]})]}),o.jsxs("button",{onClick:i,className:"btn-secondary flex items-center justify-center space-x-2",children:[o.jsx(ox,{className:"w-4 h-4"}),o.jsx("span",{children:"Retake Quiz"})]})]}),!l&&o.jsx("p",{className:"text-sm text-gray-600 mt-4",children:"Login to view detailed explanations and track your progress over time"})]})})}function Nx({loadingAnalysis:e,analysisText:t}){return o.jsxs("div",{className:"bg-gradient-to-br from-primary-50 via-white to-blue-50 rounded-xl shadow-lg border border-primary-200 p-4 sm:p-6 mb-6 sm:mb-8 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-500/5 to-blue-500/5 pointer-events-none"}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-blue-600 rounded-lg flex items-center justify-center mr-3",children:o.jsx(xn,{className:"w-5 h-5 text-white"})}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Performance Analysis"})]}),e?o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsx("div",{className:"w-6 h-6 border-2 border-primary-600 border-t-transparent rounded-full animate-spin mr-3"}),o.jsx("span",{className:"text-gray-600",children:"Analyzing your performance..."})]}):o.jsx("div",{className:"bg-white/80 backdrop-blur-sm border border-primary-200 rounded-lg p-4 sm:p-6",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx(lc,{className:"w-5 h-5 text-primary-600 mr-3 mt-0.5 flex-shrink-0"}),o.jsx("p",{className:"text-primary-800 leading-relaxed",children:t})]})})]})]})}function Ex({quizQuestions:e,selectedAnswers:t,isAnswerCorrect:r,expandedQuestion:n,setExpandedQuestion:s,gradingResults:i}){const a=c=>{if(!i)return;const d=e.map((h,f)=>({question:h,index:f})).filter(h=>h.question.type==="open_ended").findIndex(h=>h.index===c);if(d>=0&&d<i.length)return i[d]},l=c=>{switch(c){case"correct":return"text-green-600 bg-green-100";case"partial":return"text-yellow-600 bg-yellow-100";case"incorrect":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx(oc,{className:"w-6 h-6 text-gray-700 mr-3"}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Detailed Review"})]}),o.jsx("div",{className:"space-y-6",children:e.map((c,u)=>{const d=r(u),h=t[u],f=n===u,y=dc.getAnswerFeedback(c,h,i),v=a(u);return o.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[o.jsx("div",{className:`p-4 sm:p-6 cursor-pointer transition-colors duration-200 ${d?"bg-green-50 hover:bg-green-100":"bg-red-50 hover:bg-red-100"}`,onClick:()=>s(f?null:u),children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center mb-2 flex-wrap gap-2",children:[o.jsxs("span",{className:"text-sm font-medium text-gray-500 mr-3",children:["Question ",u+1]}),o.jsxs("div",{className:`flex items-center ${d?"text-green-600":"text-red-600"}`,children:[d?o.jsx(dn,{className:"w-4 h-4 mr-1"}):o.jsx(Fi,{className:"w-4 h-4 mr-1"}),o.jsx("span",{className:"text-sm font-medium",children:d?"Correct":"Incorrect"})]}),v&&o.jsxs("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${l(v.grade)}`,children:["AI: ",v.grade," (",Math.round(v.score*100),"%)"]}),y.score!==void 0&&o.jsxs("span",{className:"text-sm ml-2 px-2 py-1 bg-gray-100 rounded",children:["Score: ",Math.round(y.score*100),"%"]})]}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:c.question})]}),o.jsx("div",{className:"ml-4",children:o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${d?"bg-green-100":"bg-red-100"}`,children:d?o.jsx(dn,{className:"w-5 h-5 text-green-600"}):o.jsx(Fi,{className:"w-5 h-5 text-red-600"})})})]})}),f&&o.jsxs("div",{className:"border-t border-gray-200 p-4 sm:p-6 bg-white",children:[c.options&&o.jsxs("div",{className:"mb-4",children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Answer Options:"}),o.jsx("div",{className:"space-y-2",children:c.options.map((w,j)=>{const p=Array.isArray(h)&&h.includes(j),g=Array.isArray(c.correct_answer)&&c.correct_answer.includes(j);return o.jsx("div",{className:`p-3 rounded-lg border-2 ${g&&p||g?"border-green-500 bg-green-50":p?"border-red-500 bg-red-50":"border-gray-200 bg-gray-50"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-900",children:w}),o.jsxs("div",{className:"flex items-center space-x-2",children:[p&&o.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded",children:"Your Answer"}),g&&o.jsx("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 rounded",children:"Correct"})]})]})},j)})})]}),c.type==="true_false"&&o.jsxs("div",{className:"mb-4",children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Your Answer:"}),o.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border",children:o.jsx("p",{className:"text-gray-800",children:typeof h=="boolean"?h?"True":"False":"No answer provided"})}),o.jsx("h4",{className:"font-medium text-gray-900 mb-2 mt-3",children:"Correct Answer:"}),o.jsx("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:o.jsx("p",{className:"text-green-800",children:typeof c.correct_answer=="boolean"?c.correct_answer?"True":"False":String(c.correct_answer)})})]}),c.type==="open_ended"&&o.jsxs("div",{className:"mb-4",children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Your Answer:"}),o.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border",children:o.jsx("p",{className:"text-gray-800",children:typeof h=="string"?h:"No answer provided"})}),v&&o.jsxs("div",{className:"mt-4 space-y-3",children:[o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[o.jsxs("h5",{className:"font-medium text-blue-900 mb-2 flex items-center",children:[o.jsx(xn,{className:"w-4 h-4 mr-1"}),"AI Feedback:"]}),o.jsx("p",{className:"text-blue-800 text-sm leading-relaxed",children:v.feedback})]}),v.improvements&&v.improvements.length>0&&o.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[o.jsxs("h5",{className:"font-medium text-orange-900 mb-2 flex items-center",children:[o.jsx(lc,{className:"w-4 h-4 mr-1"}),"Suggestions for Improvement:"]}),o.jsx("ul",{className:"space-y-1",children:v.improvements.map((w,j)=>o.jsxs("li",{className:"text-sm text-orange-700 flex items-start",children:[o.jsx("span",{className:"text-orange-500 mr-2",children:""}),w]},j))})]}),v.weakAreas&&v.weakAreas.length>0&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[o.jsxs("h5",{className:"font-medium text-red-900 mb-2 flex items-center",children:[o.jsx(Qf,{className:"w-4 h-4 mr-1"}),"Areas to Focus On:"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:v.weakAreas.map((w,j)=>o.jsx("span",{className:"text-xs px-2 py-1 bg-red-100 text-red-700 rounded-full",children:w},j))})]})]}),typeof c.correct_answer=="string"&&o.jsxs(o.Fragment,{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2 mt-4",children:"Model Answer:"}),o.jsx("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:o.jsx("p",{className:"text-green-800 text-sm",children:c.correct_answer})})]})]}),c.type!=="open_ended"&&o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 via-white to-indigo-50 border border-blue-200 rounded-lg p-4 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/5 to-indigo-500/5 pointer-events-none"}),o.jsxs("div",{className:"relative flex items-start",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center mr-3 flex-shrink-0",children:o.jsx(wr,{className:"w-4 h-4 text-white"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"General Explanation:"}),o.jsx("p",{className:"text-blue-800 text-sm leading-relaxed",children:y.explanation})]})]})]})]})]},`${c.id}-${u}`)})})]})}function Cx({actualScore:e,quizTopic:t}){const r=Pt();return o.jsxs("div",{className:"card mt-6 sm:mt-8",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(ha,{className:"w-6 h-6 text-primary-600 mr-3"}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Next Steps"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-4 bg-primary-50 rounded-lg border border-primary-200",children:[o.jsx("h3",{className:"font-medium text-primary-900 mb-2",children:"Continue Learning"}),o.jsx("p",{className:"text-sm text-primary-700 mb-3",children:e>=80?"Try a more challenging quiz or explore advanced topics.":"Review the concepts you missed and practice similar questions."}),o.jsx("button",{onClick:()=>r("/chat"),className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"Ask AI Tutor "})]}),o.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[o.jsx("h3",{className:"font-medium text-green-900 mb-2",children:"Practice More"}),o.jsxs("p",{className:"text-sm text-green-700 mb-3",children:["Take more quizzes on ",t," to reinforce your learning."]}),o.jsx("button",{onClick:()=>r("/quiz"),className:"text-sm text-green-600 hover:text-green-700 font-medium",children:"More Quizzes "})]})]})]})}function Tx({loadingStats:e,quizStats:t,actualScore:r,correctCount:n,totalQuestions:s,quizDifficulty:i}){return o.jsxs("div",{className:"card sticky top-8",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(rx,{className:"w-5 h-5 text-primary-600 mr-2"}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Quiz Performance"})]}),e?o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsx("div",{className:"w-5 h-5 border-2 border-primary-600 border-t-transparent rounded-full animate-spin mr-2"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Loading stats..."})]}):t?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Overall Statistics"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[o.jsx("div",{className:"text-lg font-bold text-blue-600",children:t.totalQuizzes}),o.jsx("div",{className:"text-xs text-blue-700",children:"Total Quizzes"})]}),o.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[o.jsxs("div",{className:"text-lg font-bold text-green-600",children:[t.averageScore,"%"]}),o.jsx("div",{className:"text-xs text-green-700",children:"Average Score"})]}),o.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg col-span-2",children:[o.jsxs("div",{className:"text-lg font-bold text-yellow-600",children:[t.bestScore,"%"]}),o.jsx("div",{className:"text-xs text-yellow-700",children:"Best Score"})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Current Quiz"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Accuracy"}),o.jsxs("span",{className:"text-sm font-medium",children:[r,"%"]})]}),o.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Questions"}),o.jsxs("span",{className:"text-sm font-medium",children:[n,"/",s]})]}),o.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Difficulty"}),o.jsx("span",{className:`text-sm font-medium px-2 py-1 rounded text-xs ${i==="easy"?"bg-green-100 text-green-700":i==="medium"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:i})]})]})]}),Object.keys(t.topicStats).length>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Topic Performance"}),o.jsx("div",{className:"space-y-2",children:Object.entries(t.topicStats).slice(0,4).map(([a,l])=>o.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:a}),o.jsxs("div",{className:"text-xs text-gray-500",children:[l.count," quiz",l.count!==1?"es":""]})]}),o.jsxs("div",{className:"text-sm font-medium text-gray-700",children:[l.avgScore,"%"]})]},a))})]}),t.recentAttempts.length>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Recent Attempts"}),o.jsx("div",{className:"space-y-2",children:t.recentAttempts.slice(0,3).map((a,l)=>o.jsxs("div",{className:"p-2 bg-gray-50 rounded",children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900 truncate flex-1 mr-2",children:a.title}),o.jsxs("div",{className:`text-sm font-medium ${a.score>=80?"text-green-600":a.score>=60?"text-yellow-600":"text-red-600"}`,children:[a.score,"%"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("div",{className:"text-xs text-gray-500",children:a.topic}),o.jsx("div",{className:"text-xs text-gray-500",children:a.date})]})]},l))})]}),o.jsxs("div",{className:"bg-gradient-to-br from-primary-50 via-white to-blue-50 rounded-lg border border-primary-200 p-3 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-500/5 to-blue-500/5 pointer-events-none"}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-primary-500 to-blue-600 rounded flex items-center justify-center mr-2",children:o.jsx(ha,{className:"w-3 h-3 text-white"})}),o.jsx("span",{className:"text-sm font-medium text-primary-900",children:"Performance Insight"})]}),o.jsx("p",{className:"text-xs text-primary-700",children:r>t.averageScore?`Great job! This score is ${r-t.averageScore}% above your average.`:r===t.averageScore?"This score matches your average performance.":`This score is ${t.averageScore-r}% below your average. Keep practicing!`})]})]})]}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(ix,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),o.jsx("p",{className:"text-sm text-gray-600",children:"No statistics available"})]})]})}function Px(){const e=Tt(),t=Pt(),{user:r}=lt(),[n,s]=b.useState(!1),[i,a]=b.useState(""),[l,c]=b.useState(!0),[u,d]=b.useState(null),[h,f]=b.useState(null),[y,v]=b.useState(!0),[w,j]=b.useState(!1),p=e.state;b.useEffect(()=>{if(!p){t("/quiz");return}m(),r?g():v(!1)},[p,t,r]);const g=async()=>{if(r)try{const{data:I,error:H}=await $.from("quiz_attempts").select(`
          *,
          quiz:quizzes(title, topic, difficulty)
        `).eq("user_id",r.id).order("completed_at",{ascending:!1});if(H)throw H;if(I&&I.length>0){const k=I.length,_=Math.round(I.reduce((O,V)=>O+V.score,0)/k),N=Math.max(...I.map(O=>O.score)),A={};I.forEach(O=>{var K;const V=((K=O.quiz)==null?void 0:K.topic)||"Unknown";A[V]||(A[V]={count:0,avgScore:0}),A[V].count++,A[V].avgScore+=O.score}),Object.keys(A).forEach(O=>{A[O].avgScore=Math.round(A[O].avgScore/A[O].count)});const U=I.slice(0,5).map(O=>{var V,K;return{title:((V=O.quiz)==null?void 0:V.title)||"Unknown Quiz",score:O.score,date:new Date(O.completed_at).toLocaleDateString(),topic:((K=O.quiz)==null?void 0:K.topic)||"Unknown"}});f({totalQuizzes:k,averageScore:_,bestScore:N,topicStats:A,recentAttempts:U})}else f({totalQuizzes:0,averageScore:0,bestScore:0,topicStats:{},recentAttempts:[]})}catch(I){console.error("Error fetching quiz stats:",I)}finally{v(!1)}},m=async()=>{if(p){c(!0);try{const{quiz:I,selectedAnswers:H,gradingResults:k}=p,_=I.questions.filter((V,K)=>x(K)==="correct").length,N=I.questions.filter((V,K)=>x(K)==="partial").length,A=Math.round((_+N*.5)/I.questions.length*100),U=I.questions.filter((V,K)=>x(K)==="incorrect");let O="";if(!r)A>=80?(O=`Great job! You scored ${A}% on this ${I.topic} quiz. You got ${_} out of ${I.questions.length} questions correct. `,O+="Login to get detailed feedback, track your progress, and access unlimited quizzes!"):A>=60?(O=`Good effort! You scored ${A}% on this ${I.topic} quiz. You got ${_} out of ${I.questions.length} questions correct. `,O+="Login to see detailed explanations, identify weak areas, and improve your understanding!"):(O=`You scored ${A}% on this ${I.topic} quiz. You got ${_} out of ${I.questions.length} questions correct. `,O+="Login to access detailed feedback, personalized learning recommendations, and unlimited practice quizzes!");else{A>=90?(O=` Outstanding performance! You've demonstrated excellent mastery of ${I.topic}. Your ${A}% score shows you have a strong understanding of the core concepts. `,U.length>0&&(O+=`Focus on reviewing the ${U.length} question(s) you missed to achieve perfect understanding. `),N>0&&(O+=`You received partial credit on ${N} question(s), showing good understanding that can be refined. `),O+=`Consider challenging yourself with harder difficulty levels or exploring advanced topics in ${I.topic}.`):A>=80?(O=` Great job! Your ${A}% score indicates solid understanding of ${I.topic}. You're on the right track with ${_} fully correct answers out of ${I.questions.length}. `,N>0&&(O+=`You also received partial credit on ${N} question(s), which shows you're grasping the concepts but can improve your explanations. `),U.length>0&&(O+=`Review the ${U.length} areas where you had difficulty - these represent opportunities for growth. `),O+="With a bit more practice, you'll master this topic completely."):A>=60?(O=` Good effort! You scored ${A}%, showing you understand the basics of ${I.topic}. You got ${_} questions fully right`,N>0&&(O+=` and ${N} partially correct`),O+=", which is a solid foundation. ",O+=`Focus on the ${U.length} questions you missed - understanding these concepts will significantly improve your knowledge. `,O+="Consider reviewing the explanations and taking additional practice quizzes to strengthen your understanding."):(O=` Don't worry - learning is a journey! Your ${A}% score shows you're building foundational knowledge in ${I.topic}. `,O+=`You got ${_} questions fully correct`,N>0&&(O+=` and ${N} partially correct`),O+=", which means you're already grasping some key concepts. ",O+="Focus on understanding the explanations for the questions you missed. Consider reviewing the basic concepts and taking the quiz again to track your improvement.");const V=U.map(K=>K.type);if(V.includes("multiple")&&(O+=" Pay special attention to multiple-choice questions - they often test comprehensive understanding of topics."),V.includes("open_ended")&&(O+=" Work on articulating your thoughts clearly for open-ended questions."),k&&k.length>0){const K=k.filter(gt=>gt.grade==="partial").length,Tr=k.filter(gt=>gt.grade==="incorrect").length,We=k.filter(gt=>gt.grade==="correct").length;K>0&&(O+=` You received partial credit on ${K} open-ended question(s), showing good understanding that can be improved with more detail and clarity.`),We>0&&(O+=` Your ${We} fully correct open-ended answer(s) demonstrate strong analytical and communication skills.`);const At=k.flatMap(gt=>gt.weakAreas||[]),Cs=[...new Set(At)];Cs.length>0&&(O+=` Key areas to focus on: ${Cs.slice(0,3).join(", ")}.`)}}a(O)}catch(I){console.error("Error generating analysis:",I),a("Unable to generate detailed analysis at this time. Please review your answers below.")}finally{c(!1)}}},x=I=>{if(!p)return"incorrect";const H=p.quiz.questions[I],k=p.selectedAnswers[I];if(H.type==="open_ended"&&p.gradingResults){const N=p.quiz.questions.map((A,U)=>({question:A,index:U})).filter(A=>A.question.type==="open_ended").findIndex(A=>A.index===I);if(N>=0&&N<p.gradingResults.length)return p.gradingResults[N].grade}return dc.isQuestionCorrect(H,k,p.gradingResults)?"correct":"incorrect"},S=I=>x(I)==="correct",E=()=>{t("/quiz",{state:{startQuiz:p.quiz}})},T=()=>{if(!r){j(!0);return}s(!n)};if(!p)return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(ex,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Quiz Results Found"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Please take a quiz first to see your results."}),o.jsx("button",{onClick:()=>t("/quiz"),className:"btn-primary",children:"Go to Quizzes"})]})});const{quiz:P,selectedAnswers:W,gradingResults:L,score:oe}=p,me=P.questions.filter((I,H)=>x(H)==="correct").length,_e=P.questions.filter((I,H)=>x(H)==="partial").length;P.questions.filter((I,H)=>x(H)==="incorrect").length;const $e=oe||Math.round(me/P.questions.length*100);return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:[o.jsxs("div",{className:"mb-6 sm:mb-8",children:[o.jsxs("button",{onClick:()=>t("/quiz"),className:"flex items-center text-gray-600 hover:text-gray-900 mb-4 transition-colors duration-200",children:[o.jsx(tx,{className:"w-4 h-4 mr-2"}),"Back to Quizzes"]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:["Quiz Results: ",P.title]}),o.jsxs("p",{className:"text-gray-600",children:[P.topic,"  ",P.difficulty," difficulty"]}),!r&&o.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-2 text-blue-700",children:[o.jsx(ft,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:"Limited Guest Access"})]}),o.jsx("p",{className:"text-blue-600 text-sm mt-2",children:"Login to access detailed feedback, progress tracking, and unlimited quizzes!"}),o.jsxs("button",{onClick:()=>t("/auth"),className:"mt-3 btn-primary flex items-center space-x-2 mx-auto",children:[o.jsx(tr,{className:"w-4 h-4"}),o.jsx("span",{children:"Login for Full Access"})]})]})]})]}),r&&L&&L.length>0&&o.jsx("div",{className:"mb-6 sm:mb-8",children:o.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 via-white to-purple-50 rounded-xl shadow-lg border border-indigo-200 p-4 sm:p-6 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500/5 to-purple-500/5 pointer-events-none"}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center mr-3",children:o.jsx(xn,{className:"w-5 h-5 text-white"})}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"AI Grading Summary for Open-Ended Questions"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border border-green-200",children:[o.jsx("div",{className:"text-lg font-bold text-green-600",children:L.filter(I=>I.grade==="correct").length}),o.jsx("div",{className:"text-sm text-green-700",children:"Fully Correct"})]}),o.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[o.jsx("div",{className:"text-lg font-bold text-yellow-600",children:L.filter(I=>I.grade==="partial").length}),o.jsx("div",{className:"text-sm text-yellow-700",children:"Partial Credit"})]}),o.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg border border-red-200",children:[o.jsx("div",{className:"text-lg font-bold text-red-600",children:L.filter(I=>I.grade==="incorrect").length}),o.jsx("div",{className:"text-sm text-red-700",children:"Needs Work"})]})]}),L.some(I=>I.improvements&&I.improvements.length>0)&&o.jsxs("div",{className:"mb-4",children:[o.jsxs("h3",{className:"text-sm font-medium text-indigo-900 mb-2 flex items-center",children:[o.jsx(lc,{className:"w-4 h-4 mr-1"}),"Key Improvement Areas:"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:[...new Set(L.flatMap(I=>I.improvements||[]))].slice(0,5).map((I,H)=>o.jsx("span",{className:"text-xs px-2 py-1 bg-indigo-100 text-indigo-700 rounded-full",children:I},H))})]}),L.some(I=>I.weakAreas&&I.weakAreas.length>0)&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-sm font-medium text-purple-900 mb-2 flex items-center",children:[o.jsx(wr,{className:"w-4 h-4 mr-1"}),"Concepts to Review:"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:[...new Set(L.flatMap(I=>I.weakAreas||[]))].slice(0,5).map((I,H)=>o.jsx("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-700 rounded-full",children:I},H))})]})]})]})}),o.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 sm:gap-8",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(Sx,{actualScore:$e,correctCount:me,totalQuestions:P.questions.length,showAnswers:n,setShowAnswers:T,retakeQuiz:E,partialCount:_e}),o.jsx(Nx,{loadingAnalysis:l,analysisText:i}),n&&r&&o.jsx(Ex,{quizQuestions:P.questions,selectedAnswers:W,isAnswerCorrect:S,expandedQuestion:u,setExpandedQuestion:d,gradingResults:L}),o.jsx(Cx,{actualScore:$e,quizTopic:P.topic})]}),r&&o.jsx("div",{className:"lg:w-80",children:o.jsx(Tx,{loadingStats:y,quizStats:h,actualScore:$e,correctCount:me,totalQuestions:P.questions.length,quizDifficulty:P.difficulty})})]})]}),o.jsx(uc,{isOpen:w,onClose:()=>j(!1),limitType:"results",title:"Detailed Results Locked",message:"Login to view detailed quiz analysis, track your progress, and access personalized learning insights!"})]})}function Ax(){const{user:e}=lt(),[t,r]=b.useState(null),[n,s]=b.useState([]),[i,a]=b.useState({totalChats:0,totalQuizzes:0,averageScore:0,totalTopics:0}),[l,c]=b.useState(!0),[u,d]=b.useState(!1),[h,f]=b.useState("");b.useEffect(()=>{e&&(y(),v(),w())},[e]);const y=async()=>{try{const{data:m,error:x}=await $.from("profiles").select("*").eq("id",e.id).single();if(x)throw x;r(m),f(m.full_name||"")}catch(m){console.error("Error fetching profile:",m)}},v=async()=>{try{const{data:m,error:x}=await $.from("learning_progress").select("*").eq("user_id",e.id).order("last_updated",{ascending:!1});if(x)throw x;s(m||[])}catch(m){console.error("Error fetching learning progress:",m)}},w=async()=>{try{const{count:m}=await $.from("chat_sessions").select("*",{count:"exact",head:!0}).eq("user_id",e.id),{data:x}=await $.from("quiz_attempts").select("score").eq("user_id",e.id),{data:S}=await $.from("learning_progress").select("topic").eq("user_id",e.id),E=x&&x.length>0?x.reduce((P,W)=>P+W.score,0)/x.length:0,T=new Set((S==null?void 0:S.map(P=>P.topic))||[]);a({totalChats:m||0,totalQuizzes:(x==null?void 0:x.length)||0,averageScore:Math.round(E),totalTopics:T.size})}catch(m){console.error("Error fetching stats:",m)}finally{c(!1)}},j=async()=>{try{const{error:m}=await $.from("profiles").update({full_name:h}).eq("id",e.id);if(m)throw m;r(x=>x?{...x,full_name:h}:null),d(!1)}catch(m){console.error("Error updating profile:",m)}},p=m=>m>=80?"text-green-600 bg-green-100":m>=60?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",g=m=>m>=80?"bg-green-500":m>=60?"bg-yellow-500":"bg-red-500";return l?o.jsx("div",{className:"flex items-center justify-center h-96",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-8 h-8 border-2 border-primary-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})}):o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"w-24 h-24 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(tn,{className:"w-12 h-12 text-primary-600"})}),u?o.jsxs("div",{className:"space-y-3",children:[o.jsx("input",{type:"text",value:h,onChange:m=>f(m.target.value),placeholder:"Enter your name",className:"input-field text-center"}),o.jsxs("div",{className:"flex justify-center space-x-2",children:[o.jsxs("button",{onClick:j,className:"btn-primary flex items-center space-x-1",children:[o.jsx(lx,{className:"w-4 h-4"}),o.jsx("span",{children:"Save"})]}),o.jsxs("button",{onClick:()=>{d(!1),f((t==null?void 0:t.full_name)||"")},className:"btn-secondary flex items-center space-x-1",children:[o.jsx(wn,{className:"w-4 h-4"}),o.jsx("span",{children:"Cancel"})]})]})]}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:(t==null?void 0:t.full_name)||"Student"}),o.jsx("button",{onClick:()=>d(!0),className:"p-1 hover:bg-gray-100 rounded",children:o.jsx(Jf,{className:"w-4 h-4 text-gray-500"})})]}),o.jsxs("div",{className:"flex items-center justify-center text-gray-600 mb-4",children:[o.jsx(Gf,{className:"w-4 h-4 mr-2"}),o.jsx("span",{className:"text-sm",children:t==null?void 0:t.email})]}),o.jsxs("div",{className:"flex items-center justify-center text-gray-500",children:[o.jsx(el,{className:"w-4 h-4 mr-2"}),o.jsxs("span",{className:"text-sm",children:["Joined ",new Date((t==null?void 0:t.created_at)||"").toLocaleDateString()]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[o.jsx(vs,{className:"w-6 h-6 text-blue-600 mx-auto mb-1"}),o.jsx("div",{className:"text-lg font-bold text-blue-900",children:i.totalChats}),o.jsx("div",{className:"text-xs text-blue-600",children:"Chats"})]}),o.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[o.jsx(Jn,{className:"w-6 h-6 text-green-600 mx-auto mb-1"}),o.jsx("div",{className:"text-lg font-bold text-green-900",children:i.totalQuizzes}),o.jsx("div",{className:"text-xs text-green-600",children:"Quizzes"})]}),o.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[o.jsx(Wf,{className:"w-6 h-6 text-purple-600 mx-auto mb-1"}),o.jsxs("div",{className:"text-lg font-bold text-purple-900",children:[i.averageScore,"%"]}),o.jsx("div",{className:"text-xs text-purple-600",children:"Avg Score"})]}),o.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[o.jsx(oc,{className:"w-6 h-6 text-orange-600 mx-auto mb-1"}),o.jsx("div",{className:"text-lg font-bold text-orange-900",children:i.totalTopics}),o.jsx("div",{className:"text-xs text-orange-600",children:"Topics"})]})]})]})}),o.jsx("div",{className:"lg:col-span-2",children:o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Learning Progress"}),o.jsx(ha,{className:"w-5 h-5 text-primary-600"})]}),n.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(rl,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No progress data yet"}),o.jsx("p",{className:"text-gray-600",children:"Take some quizzes to start tracking your learning progress!"})]}):o.jsx("div",{className:"space-y-6",children:n.map(m=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:m.topic}),o.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${p(m.progress_score)}`,children:[m.progress_score,"%"]})]}),o.jsx("div",{className:"mb-4",children:o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${g(m.progress_score)}`,style:{width:`${m.progress_score}%`}})})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"text-sm font-medium text-green-700 mb-2 flex items-center",children:[o.jsx(rl,{className:"w-4 h-4 mr-1"}),"Strengths (",m.strengths.length,")"]}),m.strengths.length>0?o.jsxs("div",{className:"space-y-1",children:[m.strengths.slice(0,3).map((x,S)=>o.jsx("div",{className:"text-xs text-green-600 bg-green-50 px-2 py-1 rounded",children:x},S)),m.strengths.length>3&&o.jsxs("div",{className:"text-xs text-green-600",children:["+",m.strengths.length-3," more"]})]}):o.jsx("p",{className:"text-xs text-gray-500",children:"No strengths identified yet"})]}),o.jsxs("div",{children:[o.jsxs("h4",{className:"text-sm font-medium text-red-700 mb-2 flex items-center",children:[o.jsx(wr,{className:"w-4 h-4 mr-1"}),"Areas to Focus (",m.weak_areas.length,")"]}),m.weak_areas.length>0?o.jsxs("div",{className:"space-y-1",children:[m.weak_areas.slice(0,3).map((x,S)=>o.jsx("div",{className:"text-xs text-red-600 bg-red-50 px-2 py-1 rounded",children:x},S)),m.weak_areas.length>3&&o.jsxs("div",{className:"text-xs text-red-600",children:["+",m.weak_areas.length-3," more"]})]}):o.jsx("p",{className:"text-xs text-gray-500",children:"No weak areas identified"})]})]}),o.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:["Last updated: ",new Date(m.last_updated).toLocaleDateString()]})]},m.id))})]})})]})})}function hc(){return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 gradient-bg rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse-slow",children:o.jsx(xn,{className:"w-8 h-8 text-white"})}),o.jsx("p",{className:"text-gray-600 font-medium",children:"Loading..."})]})})}function Ox({children:e}){const{user:t,loading:r}=lt();return r?o.jsx(hc,{}):t?o.jsx(o.Fragment,{children:e}):o.jsx(tc,{to:"/auth",replace:!0})}function zx({children:e}){const{user:t,loading:r}=lt();return r?o.jsx(hc,{}):t?o.jsx(tc,{to:"/home",replace:!0}):o.jsx(o.Fragment,{children:e})}function ei({children:e}){const{loading:t}=lt();return t?o.jsx(hc,{}):o.jsx(o.Fragment,{children:e})}function Ix(){return o.jsxs(j0,{children:[o.jsx(zt,{path:"/auth",element:o.jsx(zx,{children:o.jsx(fx,{})})}),o.jsx(zt,{path:"/",element:o.jsx(tc,{to:"/home",replace:!0})}),o.jsx(zt,{path:"/home",element:o.jsx(ei,{children:o.jsx(Pn,{children:o.jsx(mx,{})})})}),o.jsx(zt,{path:"/chat",element:o.jsx(ei,{children:o.jsx(Pn,{children:o.jsx(px,{})})})}),o.jsx(zt,{path:"/quiz",element:o.jsx(ei,{children:o.jsx(Pn,{children:o.jsx(_x,{})})})}),o.jsx(zt,{path:"/quiz-results",element:o.jsx(ei,{children:o.jsx(Pn,{children:o.jsx(Px,{})})})}),o.jsx(zt,{path:"/profile",element:o.jsx(Ox,{children:o.jsx(Pn,{children:o.jsx(Ax,{})})})})]})}function Rx(){return o.jsx(C0,{children:o.jsx(Jv,{children:o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsx(Ix,{})})})})}Ga.createRoot(document.getElementById("root")).render(o.jsx(Yn.StrictMode,{children:o.jsx(Rx,{})}));
